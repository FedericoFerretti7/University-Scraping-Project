{"cells":[{"cell_type":"code","execution_count":1,"metadata":{"id":"q1HcQV0zlpvv","executionInfo":{"status":"ok","timestamp":1694076202450,"user_tz":-120,"elapsed":23,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["import pandas as pd"]},{"cell_type":"code","execution_count":2,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":31590,"status":"ok","timestamp":1694076234021,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"WRLsOUeJkdts","outputId":"8d064648-d078-49d9-82bf-a71b0b579c61"},"outputs":[{"output_type":"stream","name":"stdout","text":["Mounted at /content/drive\n"]}],"source":["from google.colab import drive\n","drive.mount('/content/drive')"]},{"cell_type":"code","execution_count":3,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"executionInfo":{"elapsed":1851,"status":"ok","timestamp":1694076235860,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"EFq8KpP9AVwC","outputId":"9ca54907-0be0-452e-b698-220a534c95fc"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["     Country/Territory       Region C/T  Edition Status  PR rating  CL rating  \\\n","0             Abkhazia      Eurasia   t     2022     PF          5          5   \n","1          Afghanistan         Asia   c     2022     NF          7          6   \n","2              Albania       Europe   c     2022     PF          3          3   \n","3              Algeria       Africa   c     2022     NF          6          5   \n","4              Andorra       Europe   c     2022      F          1          1   \n","...                ...          ...  ..      ...    ...        ...        ...   \n","2090         West Bank  Middle East   t     2013     NF          6          5   \n","2091    Western Sahara       Africa   t     2013     NF          7          7   \n","2092             Yemen  Middle East   c     2013     NF          6          6   \n","2093            Zambia       Africa   c     2013     PF          3          4   \n","2094          Zimbabwe       Africa   c     2013     NF          6          6   \n","\n","      A1  A2  A3  ...  F3  F4   F  G1  G2  G3  G4   G  CL  Total  \n","0      2   2   1  ...   1   1   4   1   1   2   1   5  23     40  \n","1      0   0   0  ...   0   0   0   0   1   0   1   2   9     10  \n","2      3   3   3  ...   2   3   9   3   2   2   2   9  39     67  \n","3      1   1   1  ...   2   2   6   2   2   2   1   7  22     32  \n","4      4   4   4  ...   4   3  15   4   4   3   4  15  55     93  \n","...   ..  ..  ..  ...  ..  ..  ..  ..  ..  ..  ..  ..  ..    ...  \n","2090   0   0   2  ...   0   1   5   1   1   2   1   5  24     30  \n","2091   0   0   0  ...   0   0   0   1   1   2   0   4   7      5  \n","2092   1   0   2  ...   0   1   2   2   1   1   1   5  16     25  \n","2093   3   3   3  ...   2   2   8   3   2   1   2   8  34     62  \n","2094   1   1   1  ...   0   0   1   1   1   1   1   4  14     25  \n","\n","[2095 rows x 44 columns]"],"text/html":["\n","  <div id=\"df-c6ce9fb9-6adb-437d-80ac-df57f1dc734a\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Country/Territory</th>\n","      <th>Region</th>\n","      <th>C/T</th>\n","      <th>Edition</th>\n","      <th>Status</th>\n","      <th>PR rating</th>\n","      <th>CL rating</th>\n","      <th>A1</th>\n","      <th>A2</th>\n","      <th>A3</th>\n","      <th>...</th>\n","      <th>F3</th>\n","      <th>F4</th>\n","      <th>F</th>\n","      <th>G1</th>\n","      <th>G2</th>\n","      <th>G3</th>\n","      <th>G4</th>\n","      <th>G</th>\n","      <th>CL</th>\n","      <th>Total</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>Abkhazia</td>\n","      <td>Eurasia</td>\n","      <td>t</td>\n","      <td>2022</td>\n","      <td>PF</td>\n","      <td>5</td>\n","      <td>5</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>4</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>23</td>\n","      <td>40</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>Afghanistan</td>\n","      <td>Asia</td>\n","      <td>c</td>\n","      <td>2022</td>\n","      <td>NF</td>\n","      <td>7</td>\n","      <td>6</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>...</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>9</td>\n","      <td>10</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>Albania</td>\n","      <td>Europe</td>\n","      <td>c</td>\n","      <td>2022</td>\n","      <td>PF</td>\n","      <td>3</td>\n","      <td>3</td>\n","      <td>3</td>\n","      <td>3</td>\n","      <td>3</td>\n","      <td>...</td>\n","      <td>2</td>\n","      <td>3</td>\n","      <td>9</td>\n","      <td>3</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>9</td>\n","      <td>39</td>\n","      <td>67</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>Algeria</td>\n","      <td>Africa</td>\n","      <td>c</td>\n","      <td>2022</td>\n","      <td>NF</td>\n","      <td>6</td>\n","      <td>5</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>6</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>7</td>\n","      <td>22</td>\n","      <td>32</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>Andorra</td>\n","      <td>Europe</td>\n","      <td>c</td>\n","      <td>2022</td>\n","      <td>F</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>4</td>\n","      <td>4</td>\n","      <td>4</td>\n","      <td>...</td>\n","      <td>4</td>\n","      <td>3</td>\n","      <td>15</td>\n","      <td>4</td>\n","      <td>4</td>\n","      <td>3</td>\n","      <td>4</td>\n","      <td>15</td>\n","      <td>55</td>\n","      <td>93</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>2090</th>\n","      <td>West Bank</td>\n","      <td>Middle East</td>\n","      <td>t</td>\n","      <td>2013</td>\n","      <td>NF</td>\n","      <td>6</td>\n","      <td>5</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>2</td>\n","      <td>...</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>24</td>\n","      <td>30</td>\n","    </tr>\n","    <tr>\n","      <th>2091</th>\n","      <td>Western Sahara</td>\n","      <td>Africa</td>\n","      <td>t</td>\n","      <td>2013</td>\n","      <td>NF</td>\n","      <td>7</td>\n","      <td>7</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>...</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>0</td>\n","      <td>4</td>\n","      <td>7</td>\n","      <td>5</td>\n","    </tr>\n","    <tr>\n","      <th>2092</th>\n","      <td>Yemen</td>\n","      <td>Middle East</td>\n","      <td>c</td>\n","      <td>2013</td>\n","      <td>NF</td>\n","      <td>6</td>\n","      <td>6</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>2</td>\n","      <td>...</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>16</td>\n","      <td>25</td>\n","    </tr>\n","    <tr>\n","      <th>2093</th>\n","      <td>Zambia</td>\n","      <td>Africa</td>\n","      <td>c</td>\n","      <td>2013</td>\n","      <td>PF</td>\n","      <td>3</td>\n","      <td>4</td>\n","      <td>3</td>\n","      <td>3</td>\n","      <td>3</td>\n","      <td>...</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>8</td>\n","      <td>3</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>8</td>\n","      <td>34</td>\n","      <td>62</td>\n","    </tr>\n","    <tr>\n","      <th>2094</th>\n","      <td>Zimbabwe</td>\n","      <td>Africa</td>\n","      <td>c</td>\n","      <td>2013</td>\n","      <td>NF</td>\n","      <td>6</td>\n","      <td>6</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>4</td>\n","      <td>14</td>\n","      <td>25</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>2095 rows × 44 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-c6ce9fb9-6adb-437d-80ac-df57f1dc734a')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-c6ce9fb9-6adb-437d-80ac-df57f1dc734a button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-c6ce9fb9-6adb-437d-80ac-df57f1dc734a');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-9f9dd0d9-813b-4470-9d95-d89580df484e\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-9f9dd0d9-813b-4470-9d95-d89580df484e')\"\n","            title=\"Suggest charts.\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-9f9dd0d9-813b-4470-9d95-d89580df484e button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":3}],"source":["freedom=pd.read_excel(\"/content/drive/MyDrive/DS LAB - Colombaro, Ferretti, Fracchia, Salvatori/SOURCES/FreedomIndex All_data_FIW_2013-2022.xlsx\", sheet_name=\"FIW13-22\",header=1)\n","freedom"]},{"cell_type":"code","execution_count":4,"metadata":{"id":"IU8sY6Lxlhir","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1694076235870,"user_tz":-120,"elapsed":52,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}},"outputId":"fce3cfea-0a6b-456f-f06b-29e04f0e85b9"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["['Abkhazia',\n"," 'Afghanistan',\n"," 'Albania',\n"," 'Algeria',\n"," 'Andorra',\n"," 'Angola',\n"," 'Antigua and Barbuda',\n"," 'Argentina',\n"," 'Armenia',\n"," 'Australia',\n"," 'Austria',\n"," 'Azerbaijan',\n"," 'Bahamas',\n"," 'Bahrain',\n"," 'Bangladesh',\n"," 'Barbados',\n"," 'Belarus',\n"," 'Belgium',\n"," 'Belize',\n"," 'Benin',\n"," 'Bhutan',\n"," 'Bolivia',\n"," 'Bosnia and Herzegovina',\n"," 'Botswana',\n"," 'Brazil',\n"," 'Brunei',\n"," 'Bulgaria',\n"," 'Burkina Faso',\n"," 'Burundi',\n"," 'Cabo Verde',\n"," 'Cambodia',\n"," 'Cameroon',\n"," 'Canada',\n"," 'Central African Republic',\n"," 'Chad',\n"," 'Chile',\n"," 'China',\n"," 'Colombia',\n"," 'Comoros',\n"," 'Congo (Brazzaville)',\n"," 'Congo (Kinshasa)',\n"," 'Costa Rica',\n"," \"Cote d'Ivoire\",\n"," 'Crimea',\n"," 'Croatia',\n"," 'Cuba',\n"," 'Cyprus',\n"," 'Czech Republic',\n"," 'Denmark',\n"," 'Djibouti',\n"," 'Dominica',\n"," 'Dominican Republic',\n"," 'Eastern Donbas',\n"," 'Ecuador',\n"," 'Egypt',\n"," 'El Salvador',\n"," 'Equatorial Guinea',\n"," 'Eritrea',\n"," 'Estonia',\n"," 'Eswatini',\n"," 'Ethiopia',\n"," 'Fiji',\n"," 'Finland',\n"," 'France',\n"," 'Gabon',\n"," 'Gaza Strip',\n"," 'Georgia',\n"," 'Germany',\n"," 'Ghana',\n"," 'Greece',\n"," 'Grenada',\n"," 'Guatemala',\n"," 'Guinea',\n"," 'Guinea-Bissau',\n"," 'Guyana',\n"," 'Haiti',\n"," 'Honduras',\n"," 'Hong Kong',\n"," 'Hungary',\n"," 'Iceland',\n"," 'India',\n"," 'Indian Kashmir',\n"," 'Indonesia',\n"," 'Iran',\n"," 'Iraq',\n"," 'Ireland',\n"," 'Israel',\n"," 'Italy',\n"," 'Jamaica',\n"," 'Japan',\n"," 'Jordan',\n"," 'Kazakhstan',\n"," 'Kenya',\n"," 'Kiribati',\n"," 'Kosovo',\n"," 'Kuwait',\n"," 'Kyrgyzstan',\n"," 'Laos',\n"," 'Latvia',\n"," 'Lebanon',\n"," 'Lesotho',\n"," 'Liberia',\n"," 'Libya',\n"," 'Liechtenstein',\n"," 'Lithuania',\n"," 'Luxembourg',\n"," 'Madagascar',\n"," 'Malawi',\n"," 'Malaysia',\n"," 'Maldives',\n"," 'Mali',\n"," 'Malta',\n"," 'Marshall Islands',\n"," 'Mauritania',\n"," 'Mauritius',\n"," 'Mexico',\n"," 'Micronesia',\n"," 'Moldova',\n"," 'Monaco',\n"," 'Mongolia',\n"," 'Montenegro',\n"," 'Morocco',\n"," 'Mozambique',\n"," 'Myanmar',\n"," 'Nagorno-Karabakh',\n"," 'Namibia',\n"," 'Nauru',\n"," 'Nepal',\n"," 'Netherlands',\n"," 'New Zealand',\n"," 'Nicaragua',\n"," 'Niger',\n"," 'Nigeria',\n"," 'North Korea',\n"," 'North Macedonia',\n"," 'Northern Cyprus',\n"," 'Norway',\n"," 'Oman',\n"," 'Pakistan',\n"," 'Pakistani Kashmir',\n"," 'Palau',\n"," 'Panama',\n"," 'Papua New Guinea',\n"," 'Paraguay',\n"," 'Peru',\n"," 'Philippines',\n"," 'Poland',\n"," 'Portugal',\n"," 'Qatar',\n"," 'Romania',\n"," 'Russia',\n"," 'Rwanda',\n"," 'Samoa',\n"," 'San Marino',\n"," 'Sao Tome and Principe',\n"," 'Saudi Arabia',\n"," 'Senegal',\n"," 'Serbia',\n"," 'Seychelles',\n"," 'Sierra Leone',\n"," 'Singapore',\n"," 'Slovakia',\n"," 'Slovenia',\n"," 'Solomon Islands',\n"," 'Somalia',\n"," 'Somaliland',\n"," 'South Africa',\n"," 'South Korea',\n"," 'South Ossetia',\n"," 'South Sudan',\n"," 'Spain',\n"," 'Sri Lanka',\n"," 'St. Kitts and Nevis',\n"," 'St. Lucia',\n"," 'St. Vincent and the Grenadines',\n"," 'Sudan',\n"," 'Suriname',\n"," 'Sweden',\n"," 'Switzerland',\n"," 'Syria',\n"," 'Taiwan',\n"," 'Tajikistan',\n"," 'Tanzania',\n"," 'Thailand',\n"," 'The Gambia',\n"," 'Tibet',\n"," 'Timor-Leste',\n"," 'Togo',\n"," 'Tonga',\n"," 'Transnistria',\n"," 'Trinidad and Tobago',\n"," 'Tunisia',\n"," 'Turkey',\n"," 'Turkmenistan',\n"," 'Tuvalu',\n"," 'Uganda',\n"," 'Ukraine',\n"," 'United Arab Emirates',\n"," 'United Kingdom',\n"," 'United States',\n"," 'Uruguay',\n"," 'Uzbekistan',\n"," 'Vanuatu',\n"," 'Venezuela',\n"," 'Vietnam',\n"," 'West Bank',\n"," 'Western Sahara',\n"," 'Yemen',\n"," 'Zambia',\n"," 'Zimbabwe',\n"," 'Puerto Rico']"]},"metadata":{},"execution_count":4}],"source":["countries = list(freedom['Country/Territory'].unique())\n","countries"]},{"cell_type":"markdown","metadata":{"id":"1Zpz57JklWyU"},"source":["Missing:\n","- Puerto Rico in 2017-2022 (request of ammission in USA in 2020, maybe considered with USA)\n","- Eastern Donbas in 2013-2019 (separated in 2019)\n","- Crimea in 2013-2014 (separated in 2014)\n"]},{"cell_type":"code","execution_count":5,"metadata":{"id":"y7YoDA8WCJZ3","executionInfo":{"status":"ok","timestamp":1694076236413,"user_tz":-120,"elapsed":573,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["freedom.sort_values(['Country/Territory', 'Edition'], ascending=[True, True], inplace=True)"]},{"cell_type":"code","execution_count":6,"metadata":{"id":"QUWnAk8rD2VR","executionInfo":{"status":"ok","timestamp":1694076236418,"user_tz":-120,"elapsed":90,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["freedom= freedom.reset_index(drop=True)"]},{"cell_type":"code","execution_count":7,"metadata":{"id":"M6uRXSmI0NJR","executionInfo":{"status":"ok","timestamp":1694076236420,"user_tz":-120,"elapsed":88,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["ISO3166 = {\n","\t'AD': 'Andorra',\n","\t'AE': 'United Arab Emirates',\n","\t'AF': 'Afghanistan',\n","\t'AG': 'Antigua and Barbuda',\n","\t'AI': 'Anguilla',\n","\t'AL': 'Albania',\n","\t'AM': 'Armenia',\n","\t'AN': 'Netherlands Antilles',\n","\t'AO': 'Angola',\n","\t'AQ': 'Antarctica',\n","\t'AR': 'Argentina',\n","\t'AS': 'American Samoa',\n","\t'AT': 'Austria',\n","\t'AU': 'Australia',\n","\t'AW': 'Aruba',\n","\t'AZ': 'Azerbaijan',\n","\t'BA': 'Bosnia and Herzegovina',\n","\t'BB': 'Barbados',\n","\t'BD': 'Bangladesh',\n","\t'BE': 'Belgium',\n","\t'BF': 'Burkina Faso',\n","\t'BG': 'Bulgaria',\n","\t'BH': 'Bahrain',\n","\t'BI': 'Burundi',\n","\t'BJ': 'Benin',\n","\t'BM': 'Bermuda',\n","\t'BN': 'Brunei',\n","\t'BO': 'Bolivia',\n","\t'BR': 'Brazil',\n","\t'BS': 'Bahamas',\n","\t'BT': 'Bhutan',\n","\t'BU': 'Burma (no longer exists)',\n","\t'BV': 'Bouvet Island',\n","\t'BW': 'Botswana',\n","\t'BY': 'Belarus',\n","\t'BZ': 'Belize',\n","\t'CA': 'Canada',\n","\t'CC': 'Cocos (Keeling) Islands',\n","\t'CD': 'Congo (Kinshasa)',\n","\t'CF': 'Central African Republic',\n","\t'CG': 'Congo (Brazzaville)',\n","\t'CH': 'Switzerland',\n","\t'CI': \"Cote d'Ivoire\",\n","\t'CK': 'Cook Iislands',\n","\t'CL': 'Chile',\n","\t'CM': 'Cameroon',\n","\t'CN': 'China',\n","\t'CO': 'Colombia',\n","\t'CR': 'Costa Rica',\n","\t'CS': 'Czechoslovakia (no longer exists)',\n","\t'CU': 'Cuba',\n","\t'CV': 'Cabo Verde',\n","\t'CX': 'Christmas Island',\n","\t'CY': 'Cyprus',\n","\t'CZ': 'Czech Republic',\n","\t'DD': 'German Democratic Republic (no longer exists)',\n","\t'DE': 'Germany',\n","\t'DJ': 'Djibouti',\n","\t'DK': 'Denmark',\n","\t'DM': 'Dominica',\n","\t'DO': 'Dominican Republic',\n","\t'DZ': 'Algeria',\n","\t'EC': 'Ecuador',\n","\t'EE': 'Estonia',\n","\t'EG': 'Egypt',\n","\t'ER': 'Eritrea',\n","\t'ES': 'Spain',\n","\t'ET': 'Ethiopia',\n","\t'FI': 'Finland',\n","\t'FJ': 'Fiji',\n","\t'FK': 'Falkland Islands (Malvinas)',\n","\t'FM': 'Micronesia',\n","\t'FO': 'Faroe Islands',\n","\t'FR': 'France',\n","\t'FX': 'France, Metropolitan',\n","\t'GA': 'Gabon',\n","\t'GB': 'United Kingdom',\n","\t'GD': 'Grenada',\n","\t'GE': 'Georgia',\n","\t'GF': 'French Guiana',\n","\t'GH': 'Ghana',\n","\t'GI': 'Gibraltar',\n","\t'GL': 'Greenland',\n","\t'GM': 'The Gambia',\n","\t'GN': 'Guinea',\n","\t'GP': 'Guadeloupe',\n","\t'GQ': 'Equatorial Guinea',\n","\t'GR': 'Greece',\n","\t'GS': 'South Georgia and the South Sandwich Islands',\n","\t'GT': 'Guatemala',\n","\t'GU': 'Guam',\n","\t'GW': 'Guinea-Bissau',\n","\t'GY': 'Guyana',\n","\t'HK': 'Hong Kong',\n","\t'HM': 'Heard & McDonald Islands',\n","\t'HN': 'Honduras',\n","\t'HR': 'Croatia',\n","\t'HT': 'Haiti',\n","\t'HU': 'Hungary',\n","\t'ID': 'Indonesia',\n","\t'IE': 'Ireland',\n","\t'IL': 'Israel',\n","\t'IN': 'India',\n","\t'IO': 'British Indian Ocean Territory',\n","\t'IQ': 'Iraq',\n","\t'IR': 'Iran',\n","\t'IS': 'Iceland',\n","\t'IT': 'Italy',\n","\t'JM': 'Jamaica',\n","\t'JO': 'Jordan',\n","\t'JP': 'Japan',\n","\t'KE': 'Kenya',\n","\t'KG': 'Kyrgyzstan',\n","\t'KH': 'Cambodia',\n","\t'KI': 'Kiribati',\n","\t'KM': 'Comoros',\n","\t'KN': 'St. Kitts and Nevis',\n","\t'KP': 'North Korea',\n","\t'KR': 'South Korea',\n","\t'KW': 'Kuwait',\n","\t'KY': 'Cayman Islands',\n","\t'KZ': 'Kazakhstan',\n","\t'LA': 'Laos',\n","\t'LB': 'Lebanon',\n","\t'LC': 'St. Lucia',\n","\t'LI': 'Liechtenstein',\n","\t'LK': 'Sri Lanka',\n","\t'LR': 'Liberia',\n","\t'LS': 'Lesotho',\n","\t'LT': 'Lithuania',\n","\t'LU': 'Luxembourg',\n","\t'LV': 'Latvia',\n","\t'LY': 'Libya',\n","\t'MA': 'Morocco',\n","\t'MC': 'Monaco',\n","\t'MD': 'Moldova',\n","\t'ME': 'Montenegro',\n","\t'MG': 'Madagascar',\n","\t'MH': 'Marshall Islands',\n","\t'ML': 'Mali',\n","\t'MN': 'Mongolia',\n","\t'MM': 'Myanmar',\n","\t'MO': 'Macau',\n","\t'MP': 'Northern Mariana Islands',\n","\t'MK': 'North Macedonia',\n","\t'MQ': 'Martinique',\n","\t'MR': 'Mauritania',\n","\t'MS': 'Monserrat',\n","\t'MT': 'Malta',\n","\t'MU': 'Mauritius',\n","\t'MV': 'Maldives',\n","\t'MW': 'Malawi',\n","\t'MX': 'Mexico',\n","\t'MY': 'Malaysia',\n","\t'MZ': 'Mozambique',\n","\t'NA': 'Namibia',\n","\t'NC': 'New Caledonia',\n","\t'NE': 'Niger',\n","\t'NF': 'Norfolk Island',\n","\t'NG': 'Nigeria',\n","\t'NI': 'Nicaragua',\n","\t'NL': 'Netherlands',\n","\t'NO': 'Norway',\n","\t'NP': 'Nepal',\n","\t'NR': 'Nauru',\n","\t'NT': 'Neutral Zone (no longer exists)',\n","\t'NU': 'Niue',\n","\t'NZ': 'New Zealand',\n","\t'OM': 'Oman',\n","\t'PA': 'Panama',\n","\t'PE': 'Peru',\n","\t'PF': 'French Polynesia',\n","\t'PG': 'Papua New Guinea',\n","\t'PH': 'Philippines',\n","\t'PK': 'Pakistan',\n","\t'PL': 'Poland',\n","\t'PM': 'St. Pierre & Miquelon',\n","\t'PN': 'Pitcairn',\n","\t'PT': 'Portugal',\n","\t'PW': 'Palau',\n","\t'PY': 'Paraguay',\n","\t'QA': 'Qatar',\n","\t'RE': 'Réunion',\n","\t'RO': 'Romania',\n","\t'RS': 'Serbia',\n","\t'RU': 'Russia',\n","\t'RW': 'Rwanda',\n","\t'SA': 'Saudi Arabia',\n","\t'SB': 'Solomon Islands',\n","\t'SC': 'Seychelles',\n","\t'SD': 'Sudan',\n","\t'SE': 'Sweden',\n","\t'SG': 'Singapore',\n","\t'SH': 'St. Helena',\n","\t'SI': 'Slovenia',\n","\t'SJ': 'Svalbard & Jan Mayen Islands',\n","\t'SK': 'Slovakia',\n","\t'SL': 'Sierra Leone',\n","\t'SM': 'San Marino',\n","\t'SN': 'Senegal',\n","\t'SO': 'Somalia',\n","\t'SR': 'Suriname',\n","\t'SS': 'South Sudan',\n","\t'ST': 'Sao Tome and Principe',\n","\t'SV': 'El Salvador',\n","\t'SY': 'Syria',\n","\t'SZ': 'Eswatini',\n","\t'TC': 'Turks & Caicos Islands',\n","\t'TD': 'Chad',\n","\t'TF': 'French Southern Territories',\n","\t'TG': 'Togo',\n","\t'TH': 'Thailand',\n","\t'TJ': 'Tajikistan',\n","\t'TK': 'Tokelau',\n","\t'TL': 'Timor-Leste',\n","\t'TM': 'Turkmenistan',\n","\t'TN': 'Tunisia',\n","\t'TO': 'Tonga',\n","\t'TP': 'East Timor',\n","\t'TR': 'Turkey',\n","\t'TT': 'Trinidad and Tobago',\n","\t'TV': 'Tuvalu',\n","\t'TW': 'Taiwan',\n","\t'TZ': 'Tanzania',\n","\t'UA': 'Ukraine',\n","\t'UG': 'Uganda',\n","\t'UM': 'United States Minor Outlying Islands',\n","\t'US': 'United States',\n","\t'UY': 'Uruguay',\n","\t'UZ': 'Uzbekistan',\n","\t'VA': 'Vatican City State (Holy See)',\n","\t'VC': 'St. Vincent and the Grenadines',\n","\t'VE': 'Venezuela',\n","\t'VG': 'British Virgin Islands',\n","\t'VI': 'United States Virgin Islands',\n","\t'VN': 'Vietnam',\n","\t'VU': 'Vanuatu',\n","\t'WF': 'Wallis & Futuna Islands',\n","\t'WS': 'Samoa',\n","\t'YD': 'Democratic Yemen (no longer exists)',\n","\t'YE': 'Yemen',\n","\t'YT': 'Mayotte',\n","\t'YU': 'Yugoslavia',\n","\t'ZA': 'South Africa',\n","\t'ZM': 'Zambia',\n","\t'ZR': 'Zaire',\n","\t'ZW': 'Zimbabwe',\n","\t'XK': 'Kosovo'\n","}"]},{"cell_type":"code","execution_count":8,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":85,"status":"ok","timestamp":1694076236421,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"MhFEsFu5fw6M","outputId":"dae5f795-5cb4-4a23-dc49-254db8a005e0"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["['Abkhazia',\n"," 'Crimea',\n"," 'Eastern Donbas',\n"," 'Gaza Strip',\n"," 'Hong Kong',\n"," 'Indian Kashmir',\n"," 'Nagorno-Karabakh',\n"," 'Northern Cyprus',\n"," 'Pakistani Kashmir',\n"," 'Puerto Rico',\n"," 'Somaliland',\n"," 'South Ossetia',\n"," 'Tibet',\n"," 'Transnistria',\n"," 'West Bank',\n"," 'Western Sahara']"]},"metadata":{},"execution_count":8}],"source":["territories=freedom[freedom['C/T']=='t']\n","list(territories['Country/Territory'].unique())"]},{"cell_type":"code","execution_count":9,"metadata":{"id":"9zK-Wlq4y8oU","executionInfo":{"status":"ok","timestamp":1694076236423,"user_tz":-120,"elapsed":74,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["territories_dict={'Abkhazia': 'GE',\n","         'Crimea': 'UA',\n","         'Eastern Donbas': 'UA',\n","         'Gaza Strip': 'IL',\n","         'Hong Kong': 'CN',\n","         'Indian Kashmir': 'IN',\n","         'Nagorno-Karabakh': 'AM',\n","         'Northern Cyprus': 'CY',\n","         'Pakistani Kashmir': 'PK',\n","         'Puerto Rico': 'US',\n","         'Somaliland': 'SO',\n","         'South Ossetia': 'GE',\n","         'Tibet': 'CN',\n","         'Transnistria': 'MD',\n","         'West Bank' : 'IL',\n","         'Western Sahara': 'MA'\n","          }"]},{"cell_type":"code","execution_count":10,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":71,"status":"ok","timestamp":1694076236424,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"deWQ4vSFjjiF","outputId":"e30fefbb-55a8-455f-9c3c-570b546dc3c5"},"outputs":[{"output_type":"stream","name":"stderr","text":["<ipython-input-10-afec36cd9fce>:1: FutureWarning: The default dtype for empty Series will be 'object' instead of 'float64' in a future version. Specify a dtype explicitly to silence this warning.\n","  freedom['ISO_code']={}\n"]}],"source":["freedom['ISO_code']={}"]},{"cell_type":"code","execution_count":11,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"executionInfo":{"elapsed":57,"status":"ok","timestamp":1694076236427,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"tkSaWWlI24MM","outputId":"6e3d6741-168e-4957-b91b-73ec30b2bf53"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["     Country/Territory   Region C/T  Edition Status  PR rating  CL rating  A1  \\\n","0             Abkhazia  Eurasia   t     2013     PF          4          5   3   \n","1             Abkhazia  Eurasia   t     2014     PF          4          5   3   \n","2             Abkhazia  Eurasia   t     2015     PF          4          5   3   \n","3             Abkhazia  Eurasia   t     2016     PF          4          5   3   \n","4             Abkhazia  Eurasia   t     2017     PF          4          5   3   \n","...                ...      ...  ..      ...    ...        ...        ...  ..   \n","2090          Zimbabwe   Africa   c     2018     NF          6          5   0   \n","2091          Zimbabwe   Africa   c     2019     PF          5          5   1   \n","2092          Zimbabwe   Africa   c     2020     PF          5          5   1   \n","2093          Zimbabwe   Africa   c     2021     NF          6          5   1   \n","2094          Zimbabwe   Africa   c     2022     NF          6          5   1   \n","\n","      A2  A3  ...  F4  F  G1  G2  G3  G4  G  CL  Total  ISO_code  \n","0      2   2  ...   1  4   1   1   2   1  5  22     40        GE  \n","1      2   2  ...   1  4   1   1   2   1  5  22     40        GE  \n","2      2   1  ...   1  4   1   1   2   1  5  23     41        GE  \n","3      2   1  ...   1  4   1   1   2   1  5  23     42        GE  \n","4      2   1  ...   1  4   1   1   2   1  5  23     41        GE  \n","...   ..  ..  ...  .. ..  ..  ..  ..  .. ..  ..    ...       ...  \n","2090   1   1  ...   1  3   2   1   1   1  5  20     30       NaN  \n","2091   1   1  ...   1  2   2   1   1   1  5  19     31       NaN  \n","2092   1   1  ...   1  2   2   1   1   1  5  17     29       NaN  \n","2093   1   1  ...   1  2   2   1   1   1  5  17     28       NaN  \n","2094   1   1  ...   1  2   2   1   1   1  5  17     28       NaN  \n","\n","[2095 rows x 45 columns]"],"text/html":["\n","  <div id=\"df-95e77394-f670-4f7a-9a03-eb1704372c29\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Country/Territory</th>\n","      <th>Region</th>\n","      <th>C/T</th>\n","      <th>Edition</th>\n","      <th>Status</th>\n","      <th>PR rating</th>\n","      <th>CL rating</th>\n","      <th>A1</th>\n","      <th>A2</th>\n","      <th>A3</th>\n","      <th>...</th>\n","      <th>F4</th>\n","      <th>F</th>\n","      <th>G1</th>\n","      <th>G2</th>\n","      <th>G3</th>\n","      <th>G4</th>\n","      <th>G</th>\n","      <th>CL</th>\n","      <th>Total</th>\n","      <th>ISO_code</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>Abkhazia</td>\n","      <td>Eurasia</td>\n","      <td>t</td>\n","      <td>2013</td>\n","      <td>PF</td>\n","      <td>4</td>\n","      <td>5</td>\n","      <td>3</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>4</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>22</td>\n","      <td>40</td>\n","      <td>GE</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>Abkhazia</td>\n","      <td>Eurasia</td>\n","      <td>t</td>\n","      <td>2014</td>\n","      <td>PF</td>\n","      <td>4</td>\n","      <td>5</td>\n","      <td>3</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>4</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>22</td>\n","      <td>40</td>\n","      <td>GE</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>Abkhazia</td>\n","      <td>Eurasia</td>\n","      <td>t</td>\n","      <td>2015</td>\n","      <td>PF</td>\n","      <td>4</td>\n","      <td>5</td>\n","      <td>3</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>4</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>23</td>\n","      <td>41</td>\n","      <td>GE</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>Abkhazia</td>\n","      <td>Eurasia</td>\n","      <td>t</td>\n","      <td>2016</td>\n","      <td>PF</td>\n","      <td>4</td>\n","      <td>5</td>\n","      <td>3</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>4</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>23</td>\n","      <td>42</td>\n","      <td>GE</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>Abkhazia</td>\n","      <td>Eurasia</td>\n","      <td>t</td>\n","      <td>2017</td>\n","      <td>PF</td>\n","      <td>4</td>\n","      <td>5</td>\n","      <td>3</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>4</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>23</td>\n","      <td>41</td>\n","      <td>GE</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>2090</th>\n","      <td>Zimbabwe</td>\n","      <td>Africa</td>\n","      <td>c</td>\n","      <td>2018</td>\n","      <td>NF</td>\n","      <td>6</td>\n","      <td>5</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>3</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>20</td>\n","      <td>30</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>2091</th>\n","      <td>Zimbabwe</td>\n","      <td>Africa</td>\n","      <td>c</td>\n","      <td>2019</td>\n","      <td>PF</td>\n","      <td>5</td>\n","      <td>5</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>19</td>\n","      <td>31</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>2092</th>\n","      <td>Zimbabwe</td>\n","      <td>Africa</td>\n","      <td>c</td>\n","      <td>2020</td>\n","      <td>PF</td>\n","      <td>5</td>\n","      <td>5</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>17</td>\n","      <td>29</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>2093</th>\n","      <td>Zimbabwe</td>\n","      <td>Africa</td>\n","      <td>c</td>\n","      <td>2021</td>\n","      <td>NF</td>\n","      <td>6</td>\n","      <td>5</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>17</td>\n","      <td>28</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>2094</th>\n","      <td>Zimbabwe</td>\n","      <td>Africa</td>\n","      <td>c</td>\n","      <td>2022</td>\n","      <td>NF</td>\n","      <td>6</td>\n","      <td>5</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>17</td>\n","      <td>28</td>\n","      <td>NaN</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>2095 rows × 45 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-95e77394-f670-4f7a-9a03-eb1704372c29')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-95e77394-f670-4f7a-9a03-eb1704372c29 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-95e77394-f670-4f7a-9a03-eb1704372c29');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-0f0d5520-f2f4-4f59-a02b-62067ee32eda\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-0f0d5520-f2f4-4f59-a02b-62067ee32eda')\"\n","            title=\"Suggest charts.\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-0f0d5520-f2f4-4f59-a02b-62067ee32eda button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":11}],"source":["freedom = freedom.reset_index(drop=True)\n","freedom['ISO_code']= freedom['Country/Territory'].map(territories_dict)\n","freedom"]},{"cell_type":"code","execution_count":12,"metadata":{"id":"nURRXBuujo8y","executionInfo":{"status":"ok","timestamp":1694076238637,"user_tz":-120,"elapsed":2260,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["for i in range(len(freedom)):\n","  for iso in ISO3166:\n","    if freedom.at[i, 'Country/Territory'] == ISO3166[iso]:\n","      freedom.at[i, 'ISO_code'] = iso"]},{"cell_type":"code","execution_count":13,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"executionInfo":{"elapsed":29,"status":"ok","timestamp":1694076238641,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"rkTLS5TTfhru","outputId":"d5871632-b417-4997-b965-8708d02de5cd"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["     Country/Territory   Region C/T  Edition Status  PR rating  CL rating  A1  \\\n","0             Abkhazia  Eurasia   t     2013     PF          4          5   3   \n","1             Abkhazia  Eurasia   t     2014     PF          4          5   3   \n","2             Abkhazia  Eurasia   t     2015     PF          4          5   3   \n","3             Abkhazia  Eurasia   t     2016     PF          4          5   3   \n","4             Abkhazia  Eurasia   t     2017     PF          4          5   3   \n","...                ...      ...  ..      ...    ...        ...        ...  ..   \n","2090          Zimbabwe   Africa   c     2018     NF          6          5   0   \n","2091          Zimbabwe   Africa   c     2019     PF          5          5   1   \n","2092          Zimbabwe   Africa   c     2020     PF          5          5   1   \n","2093          Zimbabwe   Africa   c     2021     NF          6          5   1   \n","2094          Zimbabwe   Africa   c     2022     NF          6          5   1   \n","\n","      A2  A3  ...  F4  F  G1  G2  G3  G4  G  CL  Total  ISO_code  \n","0      2   2  ...   1  4   1   1   2   1  5  22     40        GE  \n","1      2   2  ...   1  4   1   1   2   1  5  22     40        GE  \n","2      2   1  ...   1  4   1   1   2   1  5  23     41        GE  \n","3      2   1  ...   1  4   1   1   2   1  5  23     42        GE  \n","4      2   1  ...   1  4   1   1   2   1  5  23     41        GE  \n","...   ..  ..  ...  .. ..  ..  ..  ..  .. ..  ..    ...       ...  \n","2090   1   1  ...   1  3   2   1   1   1  5  20     30        ZW  \n","2091   1   1  ...   1  2   2   1   1   1  5  19     31        ZW  \n","2092   1   1  ...   1  2   2   1   1   1  5  17     29        ZW  \n","2093   1   1  ...   1  2   2   1   1   1  5  17     28        ZW  \n","2094   1   1  ...   1  2   2   1   1   1  5  17     28        ZW  \n","\n","[2095 rows x 45 columns]"],"text/html":["\n","  <div id=\"df-977147e8-a9dd-4a4b-8b4f-6eb0b75b7527\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Country/Territory</th>\n","      <th>Region</th>\n","      <th>C/T</th>\n","      <th>Edition</th>\n","      <th>Status</th>\n","      <th>PR rating</th>\n","      <th>CL rating</th>\n","      <th>A1</th>\n","      <th>A2</th>\n","      <th>A3</th>\n","      <th>...</th>\n","      <th>F4</th>\n","      <th>F</th>\n","      <th>G1</th>\n","      <th>G2</th>\n","      <th>G3</th>\n","      <th>G4</th>\n","      <th>G</th>\n","      <th>CL</th>\n","      <th>Total</th>\n","      <th>ISO_code</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>Abkhazia</td>\n","      <td>Eurasia</td>\n","      <td>t</td>\n","      <td>2013</td>\n","      <td>PF</td>\n","      <td>4</td>\n","      <td>5</td>\n","      <td>3</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>4</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>22</td>\n","      <td>40</td>\n","      <td>GE</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>Abkhazia</td>\n","      <td>Eurasia</td>\n","      <td>t</td>\n","      <td>2014</td>\n","      <td>PF</td>\n","      <td>4</td>\n","      <td>5</td>\n","      <td>3</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>4</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>22</td>\n","      <td>40</td>\n","      <td>GE</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>Abkhazia</td>\n","      <td>Eurasia</td>\n","      <td>t</td>\n","      <td>2015</td>\n","      <td>PF</td>\n","      <td>4</td>\n","      <td>5</td>\n","      <td>3</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>4</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>23</td>\n","      <td>41</td>\n","      <td>GE</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>Abkhazia</td>\n","      <td>Eurasia</td>\n","      <td>t</td>\n","      <td>2016</td>\n","      <td>PF</td>\n","      <td>4</td>\n","      <td>5</td>\n","      <td>3</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>4</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>23</td>\n","      <td>42</td>\n","      <td>GE</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>Abkhazia</td>\n","      <td>Eurasia</td>\n","      <td>t</td>\n","      <td>2017</td>\n","      <td>PF</td>\n","      <td>4</td>\n","      <td>5</td>\n","      <td>3</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>4</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>23</td>\n","      <td>41</td>\n","      <td>GE</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>2090</th>\n","      <td>Zimbabwe</td>\n","      <td>Africa</td>\n","      <td>c</td>\n","      <td>2018</td>\n","      <td>NF</td>\n","      <td>6</td>\n","      <td>5</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>3</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>20</td>\n","      <td>30</td>\n","      <td>ZW</td>\n","    </tr>\n","    <tr>\n","      <th>2091</th>\n","      <td>Zimbabwe</td>\n","      <td>Africa</td>\n","      <td>c</td>\n","      <td>2019</td>\n","      <td>PF</td>\n","      <td>5</td>\n","      <td>5</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>19</td>\n","      <td>31</td>\n","      <td>ZW</td>\n","    </tr>\n","    <tr>\n","      <th>2092</th>\n","      <td>Zimbabwe</td>\n","      <td>Africa</td>\n","      <td>c</td>\n","      <td>2020</td>\n","      <td>PF</td>\n","      <td>5</td>\n","      <td>5</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>17</td>\n","      <td>29</td>\n","      <td>ZW</td>\n","    </tr>\n","    <tr>\n","      <th>2093</th>\n","      <td>Zimbabwe</td>\n","      <td>Africa</td>\n","      <td>c</td>\n","      <td>2021</td>\n","      <td>NF</td>\n","      <td>6</td>\n","      <td>5</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>17</td>\n","      <td>28</td>\n","      <td>ZW</td>\n","    </tr>\n","    <tr>\n","      <th>2094</th>\n","      <td>Zimbabwe</td>\n","      <td>Africa</td>\n","      <td>c</td>\n","      <td>2022</td>\n","      <td>NF</td>\n","      <td>6</td>\n","      <td>5</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>1</td>\n","      <td>2</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>5</td>\n","      <td>17</td>\n","      <td>28</td>\n","      <td>ZW</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>2095 rows × 45 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-977147e8-a9dd-4a4b-8b4f-6eb0b75b7527')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-977147e8-a9dd-4a4b-8b4f-6eb0b75b7527 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-977147e8-a9dd-4a4b-8b4f-6eb0b75b7527');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-7692a412-0ffc-40d5-8229-4a34c8becaf2\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-7692a412-0ffc-40d5-8229-4a34c8becaf2')\"\n","            title=\"Suggest charts.\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-7692a412-0ffc-40d5-8229-4a34c8becaf2 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":13}],"source":["freedom"]},{"cell_type":"markdown","metadata":{"id":"lTkeJBZrZWEV"},"source":["N.B: WHAT IS A TERRITORY?\n","- whether the area is **governed separately** from the rest of the relevant country or countries, either de jure or de facto;\n","- whether **conditions** on the ground for political rights and civil liberties **are significantly different** from those in the rest of the relevant country or countries, meaning a separate assessment is likely to yield different ratings;\n","- whether the territory is the **subject of enduring popular or diplomatic pressure for autonomy**, independence, or incorporation into another country;\n","- whether the territory’s **boundaries are sufficiently stable** to allow an assessment of conditions for the year under review,\n","- whether they can be **expected to remain stable in future years** so that year-on-year comparisons are possible;\n","- whether the **territory is large and/or politically significant**.\n","\n","Freedom House typically takes no position on territorial or separatist disputes as such, focusing instead on the level of political rights and civil liberties in a given geographical area."]},{"cell_type":"code","execution_count":14,"metadata":{"id":"9svMptebk8DJ","executionInfo":{"status":"ok","timestamp":1694076239762,"user_tz":-120,"elapsed":1144,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["freedom.to_csv(\"/content/drive/MyDrive/DS LAB - Colombaro, Ferretti, Fracchia, Salvatori/PROCESSED DATASETS/Dataset Freedom/freedom.csv\")"]},{"cell_type":"markdown","metadata":{"id":"4ZIvaMyICXdU"},"source":["**Removing additional question 'Add A'**"]},{"cell_type":"code","execution_count":15,"metadata":{"id":"UzLaIHCACbkm","executionInfo":{"status":"ok","timestamp":1694076239766,"user_tz":-120,"elapsed":20,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["del(freedom['Add A'])"]},{"cell_type":"markdown","metadata":{"id":"6hLKVY8ZEVI-"},"source":["## HAPPINESS DATASET"]},{"cell_type":"markdown","metadata":{"id":"uRoxiUOau9HA"},"source":["**What is Dystopia?**\n","\n","Dystopia is an imaginary country that has the world’s least-happy people. The purpose in establishing Dystopia is to have a benchmark against which all countries can be favorably compared (no country performs more poorly than Dystopia) in terms of each of the six key variables, thus allowing each sub-bar to be of positive width. The lowest scores observed for the six key variables, therefore, characterize Dystopia. Since life would be very unpleasant in a country with the world’s lowest incomes, lowest life expectancy, lowest generosity, most corruption, least freedom and least social support, it is referred to as “Dystopia,” in contrast to Utopia.\n","\n","**What are the residuals?**\n","\n","The residuals, or unexplained components, differ for each country, reflecting the extent to which the six variables either over- or under-explain average 2014-2016 life evaluations. These residuals have an average value of approximately zero over the whole set of countries. Figure 2.2 shows the average residual for each country when the equation in Table 2.1 is applied to average 2014- 2016 data for the six variables in that country. We combine these residuals with the estimate for life evaluations in Dystopia so that the combined bar will always have positive values. As can be seen in Figure 2.2, although some life evaluation residuals are quite large, occasionally exceeding one point on the scale from 0 to 10, they are always much smaller than the calculated value in Dystopia, where the average life is rated at 1.85 on the 0 to 10 scale."]},{"cell_type":"code","execution_count":16,"metadata":{"id":"zIWnWxWFNIY2","executionInfo":{"status":"ok","timestamp":1694076240527,"user_tz":-120,"elapsed":776,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["happiness = pd.read_excel('/content/drive/MyDrive/DS LAB - Colombaro, Ferretti, Fracchia, Salvatori/SOURCES/WordHappinessRanking2008-2022.xls')"]},{"cell_type":"code","execution_count":17,"metadata":{"id":"1e8GE9yOSDri","executionInfo":{"status":"ok","timestamp":1694076241043,"user_tz":-120,"elapsed":525,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["happiness = happiness.sort_values(['Country name', 'year'], ascending=[True, True]).reset_index(drop=True)"]},{"cell_type":"markdown","metadata":{"id":"ly8DsFps7EEt"},"source":["**Matching between 'Czech Republic' e 'Czechia'**"]},{"cell_type":"code","execution_count":18,"metadata":{"id":"NY1IprKj7N5T","executionInfo":{"status":"ok","timestamp":1694076241052,"user_tz":-120,"elapsed":532,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["happiness['Country name'].replace('Czechia', 'Czech Republic', inplace=True)"]},{"cell_type":"markdown","metadata":{"id":"KoO5WWx58H1G"},"source":["**Matching between 'The Gambia' e 'Gambia'**"]},{"cell_type":"code","execution_count":19,"metadata":{"id":"kF8f00-q8IOk","executionInfo":{"status":"ok","timestamp":1694076241055,"user_tz":-120,"elapsed":120,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["happiness['Country name'].replace('Gambia', 'The Gambia', inplace=True)"]},{"cell_type":"markdown","metadata":{"id":"XcRzhNf481Lz"},"source":["**Matching between 'Hong Kong S.A.R. of China' e 'Hong Kong'**"]},{"cell_type":"code","execution_count":20,"metadata":{"id":"tBDe9CSJ8s83","executionInfo":{"status":"ok","timestamp":1694076241056,"user_tz":-120,"elapsed":120,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["happiness['Country name'].replace('Hong Kong S.A.R. of China', 'Hong Kong', inplace=True)"]},{"cell_type":"markdown","metadata":{"id":"uIPchg5r9J6f"},"source":["**Matching between 'Cote d'Ivoire' e 'Ivory Coast'**"]},{"cell_type":"code","execution_count":21,"metadata":{"id":"r5gkYefw9H5a","executionInfo":{"status":"ok","timestamp":1694076241059,"user_tz":-120,"elapsed":121,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["happiness['Country name'].replace(\"Ivory Coast\", \"Cote d'Ivoire\", inplace=True)"]},{"cell_type":"markdown","metadata":{"id":"Ov56nLTA-B4s"},"source":["**'State of Palestine' of 'Happiness' dataset is not in the 'Freedom' dataset**"]},{"cell_type":"markdown","metadata":{"id":"yEzb9wqG-9gb"},"source":["**Matching between 'Taiwan Province of China' e 'Taiwan'**"]},{"cell_type":"code","execution_count":22,"metadata":{"id":"Fe83xaVt_BRe","executionInfo":{"status":"ok","timestamp":1694076241069,"user_tz":-120,"elapsed":130,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["happiness['Country name'].replace(\"Taiwan Province of China\", \"Taiwan\", inplace=True)"]},{"cell_type":"markdown","metadata":{"id":"DJ1Y6FAS_isa"},"source":["**Matching between 'Turkey' e 'Turkiye'**\n"]},{"cell_type":"code","execution_count":23,"metadata":{"id":"ZgEdkxk5_jOf","executionInfo":{"status":"ok","timestamp":1694076241074,"user_tz":-120,"elapsed":134,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["happiness['Country name'].replace(\"Turkiye\", \"Turkey\", inplace=True)"]},{"cell_type":"markdown","metadata":{"id":"BouC9FeXSuK7"},"source":["### Let's filter in such a way that we have data from 2012 onwards, to have the same time frame as the *'freedom'* dataset"]},{"cell_type":"code","execution_count":24,"metadata":{"id":"f6mtCnz9SKxF","executionInfo":{"status":"ok","timestamp":1694076241077,"user_tz":-120,"elapsed":136,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["happiness = happiness[happiness['year']>2012]"]},{"cell_type":"code","execution_count":25,"metadata":{"id":"ycK6sETMIZFg","executionInfo":{"status":"ok","timestamp":1694076241078,"user_tz":-120,"elapsed":137,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["happiness.rename(columns={'Life Ladder' : 'Happiness'}, inplace=True)"]},{"cell_type":"markdown","metadata":{"id":"QIKsixWNaHt5"},"source":["## Rescaling dell'indicatore di Happiness"]},{"cell_type":"code","execution_count":26,"metadata":{"id":"GNstWLdYV8DJ","executionInfo":{"status":"ok","timestamp":1694076241084,"user_tz":-120,"elapsed":141,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["happiness['Happiness scaled'] = happiness['Happiness'] * 10"]},{"cell_type":"markdown","metadata":{"id":"qvtZ5ObDboGo"},"source":["## MOST PROBABLE REPLACEMENT OF THOSE INDICATORS WITH MISSING VALUES"]},{"cell_type":"code","execution_count":27,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":143,"status":"ok","timestamp":1694076241088,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"PR4KJDxebsTr","outputId":"38dde755-f681-4d2a-a740-301307e8c842"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["127"]},"metadata":{},"execution_count":27}],"source":["missing_rows = happiness[happiness.isna().any(axis=1)]\n","missing_rows.shape[0]"]},{"cell_type":"code","execution_count":28,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":475},"executionInfo":{"elapsed":139,"status":"ok","timestamp":1694076241091,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"Rqun6195lXYU","outputId":"fa04b791-3351-4451-911f-2fb0edff2965"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["     Country name  year  Happiness  Log GDP per capita  Social support  \\\n","13    Afghanistan  2022   1.281271                 NaN        0.228217   \n","32        Algeria  2014   6.354898            9.355415        0.818189   \n","33        Algeria  2016   5.340854            9.383312        0.748588   \n","125       Bahrain  2013   6.689711           10.797851        0.883781   \n","126       Bahrain  2014   6.165134           10.801981             NaN   \n","...           ...   ...        ...                 ...             ...   \n","2146      Vietnam  2014   5.084923            8.941402        0.792168   \n","2147      Vietnam  2015   5.076315            8.998519        0.848677   \n","2149      Vietnam  2017   5.175279            9.110596             NaN   \n","2163        Yemen  2016   3.825631            7.552322        0.775407   \n","2164        Yemen  2017   3.253560            7.243477        0.789555   \n","\n","      Healthy life expectancy at birth  Freedom to make life choices  \\\n","13                           54.875000                      0.368377   \n","32                           65.900002                           NaN   \n","33                           66.099998                           NaN   \n","125                          65.720001                      0.809206   \n","126                          65.959999                           NaN   \n","...                                ...                           ...   \n","2146                         64.820000                           NaN   \n","2147                         64.900002                           NaN   \n","2149                         65.099998                           NaN   \n","2163                         58.174999                      0.532964   \n","2164                         57.950001                      0.595191   \n","\n","      Generosity  Perceptions of corruption  Positive affect  Negative affect  \\\n","13           NaN                   0.733198         0.205868         0.575512   \n","32           NaN                        NaN         0.558359         0.176866   \n","33           NaN                        NaN         0.565026         0.377112   \n","125          NaN                   0.524703         0.711108         0.306209   \n","126          NaN                        NaN              NaN              NaN   \n","...          ...                        ...              ...              ...   \n","2146   -0.018801                        NaN         0.633852         0.240607   \n","2147    0.066410                        NaN         0.583119         0.232416   \n","2149         NaN                        NaN              NaN              NaN   \n","2163   -0.140766                        NaN         0.401007         0.227925   \n","2164   -0.124107                        NaN         0.368106         0.295064   \n","\n","      Happiness scaled  \n","13           12.812711  \n","32           63.548985  \n","33           53.408537  \n","125          66.897111  \n","126          61.651340  \n","...                ...  \n","2146         50.849233  \n","2147         50.763154  \n","2149         51.752787  \n","2163         38.256309  \n","2164         32.535601  \n","\n","[127 rows x 12 columns]"],"text/html":["\n","  <div id=\"df-00fed1ff-a134-47db-b44c-aa4360856ecc\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Country name</th>\n","      <th>year</th>\n","      <th>Happiness</th>\n","      <th>Log GDP per capita</th>\n","      <th>Social support</th>\n","      <th>Healthy life expectancy at birth</th>\n","      <th>Freedom to make life choices</th>\n","      <th>Generosity</th>\n","      <th>Perceptions of corruption</th>\n","      <th>Positive affect</th>\n","      <th>Negative affect</th>\n","      <th>Happiness scaled</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>13</th>\n","      <td>Afghanistan</td>\n","      <td>2022</td>\n","      <td>1.281271</td>\n","      <td>NaN</td>\n","      <td>0.228217</td>\n","      <td>54.875000</td>\n","      <td>0.368377</td>\n","      <td>NaN</td>\n","      <td>0.733198</td>\n","      <td>0.205868</td>\n","      <td>0.575512</td>\n","      <td>12.812711</td>\n","    </tr>\n","    <tr>\n","      <th>32</th>\n","      <td>Algeria</td>\n","      <td>2014</td>\n","      <td>6.354898</td>\n","      <td>9.355415</td>\n","      <td>0.818189</td>\n","      <td>65.900002</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>0.558359</td>\n","      <td>0.176866</td>\n","      <td>63.548985</td>\n","    </tr>\n","    <tr>\n","      <th>33</th>\n","      <td>Algeria</td>\n","      <td>2016</td>\n","      <td>5.340854</td>\n","      <td>9.383312</td>\n","      <td>0.748588</td>\n","      <td>66.099998</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>0.565026</td>\n","      <td>0.377112</td>\n","      <td>53.408537</td>\n","    </tr>\n","    <tr>\n","      <th>125</th>\n","      <td>Bahrain</td>\n","      <td>2013</td>\n","      <td>6.689711</td>\n","      <td>10.797851</td>\n","      <td>0.883781</td>\n","      <td>65.720001</td>\n","      <td>0.809206</td>\n","      <td>NaN</td>\n","      <td>0.524703</td>\n","      <td>0.711108</td>\n","      <td>0.306209</td>\n","      <td>66.897111</td>\n","    </tr>\n","    <tr>\n","      <th>126</th>\n","      <td>Bahrain</td>\n","      <td>2014</td>\n","      <td>6.165134</td>\n","      <td>10.801981</td>\n","      <td>NaN</td>\n","      <td>65.959999</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>61.651340</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>2146</th>\n","      <td>Vietnam</td>\n","      <td>2014</td>\n","      <td>5.084923</td>\n","      <td>8.941402</td>\n","      <td>0.792168</td>\n","      <td>64.820000</td>\n","      <td>NaN</td>\n","      <td>-0.018801</td>\n","      <td>NaN</td>\n","      <td>0.633852</td>\n","      <td>0.240607</td>\n","      <td>50.849233</td>\n","    </tr>\n","    <tr>\n","      <th>2147</th>\n","      <td>Vietnam</td>\n","      <td>2015</td>\n","      <td>5.076315</td>\n","      <td>8.998519</td>\n","      <td>0.848677</td>\n","      <td>64.900002</td>\n","      <td>NaN</td>\n","      <td>0.066410</td>\n","      <td>NaN</td>\n","      <td>0.583119</td>\n","      <td>0.232416</td>\n","      <td>50.763154</td>\n","    </tr>\n","    <tr>\n","      <th>2149</th>\n","      <td>Vietnam</td>\n","      <td>2017</td>\n","      <td>5.175279</td>\n","      <td>9.110596</td>\n","      <td>NaN</td>\n","      <td>65.099998</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>51.752787</td>\n","    </tr>\n","    <tr>\n","      <th>2163</th>\n","      <td>Yemen</td>\n","      <td>2016</td>\n","      <td>3.825631</td>\n","      <td>7.552322</td>\n","      <td>0.775407</td>\n","      <td>58.174999</td>\n","      <td>0.532964</td>\n","      <td>-0.140766</td>\n","      <td>NaN</td>\n","      <td>0.401007</td>\n","      <td>0.227925</td>\n","      <td>38.256309</td>\n","    </tr>\n","    <tr>\n","      <th>2164</th>\n","      <td>Yemen</td>\n","      <td>2017</td>\n","      <td>3.253560</td>\n","      <td>7.243477</td>\n","      <td>0.789555</td>\n","      <td>57.950001</td>\n","      <td>0.595191</td>\n","      <td>-0.124107</td>\n","      <td>NaN</td>\n","      <td>0.368106</td>\n","      <td>0.295064</td>\n","      <td>32.535601</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>127 rows × 12 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-00fed1ff-a134-47db-b44c-aa4360856ecc')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-00fed1ff-a134-47db-b44c-aa4360856ecc button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-00fed1ff-a134-47db-b44c-aa4360856ecc');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-6dcff705-d4c6-47b0-a413-b80f1e4e9dd6\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-6dcff705-d4c6-47b0-a413-b80f1e4e9dd6')\"\n","            title=\"Suggest charts.\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-6dcff705-d4c6-47b0-a413-b80f1e4e9dd6 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":28}],"source":["happiness[happiness.isna().any(axis=1)]"]},{"cell_type":"code","execution_count":29,"metadata":{"id":"Ac0tI4QAc2f0","executionInfo":{"status":"ok","timestamp":1694076241094,"user_tz":-120,"elapsed":136,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["import numpy as np\n","for index, row in missing_rows.iterrows():\n","\n","    country = missing_rows.loc[index, 'Country name']\n","    relevant_rows= happiness[happiness['Country name'] == country]\n","    missing_column_list = row.loc[row.isna()==True].index.values\n","    for column in missing_column_list:\n","      # print(relevant_rows[column])\n","      mean_value = np.mean(relevant_rows[column])\n","      # print(country, index, column, happiness.loc[index,column])\n","      try:\n","        if not np.isnan(mean_value):\n","          happiness.loc[index,column] = mean_value\n","        else:\n","          happiness.loc[index,column] = None\n","      except:\n","        continue\n","      # print(happiness.loc[index, column])"]},{"cell_type":"code","execution_count":30,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":135,"status":"ok","timestamp":1694076241096,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"SgGmWW49jarJ","outputId":"4be305d3-9454-4565-c5bc-1a601a8357ad"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["array(['China', 'Hong Kong', 'Kosovo', 'Kuwait', 'Maldives', 'Qatar',\n","       'Saudi Arabia', 'South Sudan', 'State of Palestine', 'Taiwan',\n","       'Turkmenistan', 'United Arab Emirates'], dtype=object)"]},"metadata":{},"execution_count":30}],"source":["controllo_missing = happiness[happiness.isna().any(axis=1)]\n","controllo_missing['Country name'].unique()"]},{"cell_type":"code","execution_count":31,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":124,"status":"ok","timestamp":1694076241099,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"iMnnuLpoKFOK","outputId":"b1b6d669-7efb-495a-e94c-bdead6773c04"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["82"]},"metadata":{},"execution_count":31}],"source":["controllo_missing.shape[0]"]},{"cell_type":"markdown","metadata":{"id":"3f332jm03dHK"},"source":["### OUTER JOIN"]},{"cell_type":"code","execution_count":32,"metadata":{"id":"NcpL14VmLwsX","executionInfo":{"status":"ok","timestamp":1694076241101,"user_tz":-120,"elapsed":118,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["merged_df = pd.merge(freedom, happiness, left_on=['Country/Territory', 'Edition'], right_on=['Country name', 'year'], how='outer')"]},{"cell_type":"markdown","metadata":{"id":"q6GaXJzQWJ6g"},"source":["List of countries and territories that, at least in one year, do not have information about the happiness score."]},{"cell_type":"code","execution_count":33,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":118,"status":"ok","timestamp":1694076241102,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"nug7qD5RT1_9","outputId":"fd5c6d23-b22b-426d-f9a0-7e299c07c68c"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["array(['Abkhazia', 'Afghanistan', 'Algeria', 'Andorra', 'Angola',\n","       'Antigua and Barbuda', 'Armenia', 'Azerbaijan', 'Bahamas',\n","       'Bahrain', 'Barbados', 'Belarus', 'Belize', 'Bhutan',\n","       'Bosnia and Herzegovina', 'Botswana', 'Brunei', 'Burkina Faso',\n","       'Burundi', 'Cabo Verde', 'Central African Republic', 'Chad',\n","       'China', 'Comoros', 'Congo (Kinshasa)', 'Crimea', 'Cuba',\n","       'Czech Republic', 'Djibouti', 'Dominica', 'Eastern Donbas',\n","       'Equatorial Guinea', 'Eritrea', 'Eswatini', 'Ethiopia', 'Fiji',\n","       'Gaza Strip', 'Grenada', 'Guatemala', 'Guinea-Bissau', 'Guyana',\n","       'Haiti', 'Honduras', 'Hong Kong', 'Iceland', 'Indian Kashmir',\n","       'Iraq', 'Jamaica', 'Kiribati', 'Kuwait', 'Laos', 'Lesotho',\n","       'Liberia', 'Libya', 'Liechtenstein', 'Luxembourg', 'Madagascar',\n","       'Malawi', 'Malaysia', 'Maldives', 'Marshall Islands', 'Mauritania',\n","       'Mauritius', 'Micronesia', 'Monaco', 'Montenegro', 'Morocco',\n","       'Mozambique', 'Myanmar', 'Nagorno-Karabakh', 'Namibia', 'Nauru',\n","       'Niger', 'Nigeria', 'North Korea', 'Northern Cyprus', 'Norway',\n","       'Oman', 'Pakistan', 'Pakistani Kashmir', 'Palau', 'Panama',\n","       'Papua New Guinea', 'Paraguay', 'Philippines', 'Puerto Rico',\n","       'Qatar', 'Rwanda', 'Samoa', 'San Marino', 'Sao Tome and Principe',\n","       'Serbia', 'Seychelles', 'Sierra Leone', 'Singapore', 'Slovakia',\n","       'Solomon Islands', 'Somalia', 'Somaliland', 'South Africa',\n","       'South Ossetia', 'South Sudan', 'Sri Lanka', 'St. Kitts and Nevis',\n","       'St. Lucia', 'St. Vincent and the Grenadines', 'Sudan', 'Suriname',\n","       'Switzerland', 'Syria', 'Tajikistan', 'The Gambia', 'Tibet',\n","       'Timor-Leste', 'Togo', 'Tonga', 'Transnistria',\n","       'Trinidad and Tobago', 'Turkey', 'Turkmenistan', 'Tuvalu',\n","       'Uganda', 'Vanuatu', 'West Bank', 'Western Sahara', 'Yemen',\n","       'Zambia'], dtype=object)"]},"metadata":{},"execution_count":33}],"source":["merged_df[merged_df['Country name'].isna()]['Country/Territory'].unique()"]},{"cell_type":"markdown","metadata":{"id":"ZLmmhXDDWUxO"},"source":["List of countries that, at least in one year, do not have information about the freedom score."]},{"cell_type":"code","execution_count":34,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":110,"status":"ok","timestamp":1694076241103,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"ulR_9WPrWT38","outputId":"c4f9eeb9-58f6-4dce-d1f4-e2e7fc85d721"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["array(['State of Palestine'], dtype=object)"]},"metadata":{},"execution_count":34}],"source":["merged_df[merged_df['Country/Territory'].isna()]['Country name'].unique()"]},{"cell_type":"code","execution_count":35,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":363},"executionInfo":{"elapsed":486,"status":"ok","timestamp":1694076241494,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"DQ15iX3f3cCu","outputId":"a3e6836a-7a37-4a27-f6be-84dfa3ef3bcd"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["     Edition ISO_code Country/Territory C/T  PR rating  CL rating    year  \\\n","761   2013.0       HK         Hong Kong   t        5.0        2.0     NaN   \n","762   2014.0       HK         Hong Kong   t        5.0        2.0  2014.0   \n","763   2015.0       HK         Hong Kong   t        5.0        2.0     NaN   \n","764   2016.0       HK         Hong Kong   t        5.0        2.0  2016.0   \n","765   2017.0       HK         Hong Kong   t        5.0        2.0  2017.0   \n","766   2018.0       HK         Hong Kong   t        5.0        2.0     NaN   \n","767   2019.0       HK         Hong Kong   t        5.0        2.0  2019.0   \n","768   2020.0       HK         Hong Kong   t        5.0        3.0  2020.0   \n","769   2021.0       HK         Hong Kong   t        5.0        3.0  2021.0   \n","770   2022.0       HK         Hong Kong   t        6.0        4.0     NaN   \n","\n","    Country name  Happiness  \n","761          NaN        NaN  \n","762    Hong Kong   5.458051  \n","763          NaN        NaN  \n","764    Hong Kong   5.498421  \n","765    Hong Kong   5.362475  \n","766          NaN        NaN  \n","767    Hong Kong   5.659317  \n","768    Hong Kong   5.295341  \n","769    Hong Kong   5.321551  \n","770          NaN        NaN  "],"text/html":["\n","  <div id=\"df-c293cbbd-2a66-4384-821b-4ef8112ee25c\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Edition</th>\n","      <th>ISO_code</th>\n","      <th>Country/Territory</th>\n","      <th>C/T</th>\n","      <th>PR rating</th>\n","      <th>CL rating</th>\n","      <th>year</th>\n","      <th>Country name</th>\n","      <th>Happiness</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>761</th>\n","      <td>2013.0</td>\n","      <td>HK</td>\n","      <td>Hong Kong</td>\n","      <td>t</td>\n","      <td>5.0</td>\n","      <td>2.0</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>762</th>\n","      <td>2014.0</td>\n","      <td>HK</td>\n","      <td>Hong Kong</td>\n","      <td>t</td>\n","      <td>5.0</td>\n","      <td>2.0</td>\n","      <td>2014.0</td>\n","      <td>Hong Kong</td>\n","      <td>5.458051</td>\n","    </tr>\n","    <tr>\n","      <th>763</th>\n","      <td>2015.0</td>\n","      <td>HK</td>\n","      <td>Hong Kong</td>\n","      <td>t</td>\n","      <td>5.0</td>\n","      <td>2.0</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>764</th>\n","      <td>2016.0</td>\n","      <td>HK</td>\n","      <td>Hong Kong</td>\n","      <td>t</td>\n","      <td>5.0</td>\n","      <td>2.0</td>\n","      <td>2016.0</td>\n","      <td>Hong Kong</td>\n","      <td>5.498421</td>\n","    </tr>\n","    <tr>\n","      <th>765</th>\n","      <td>2017.0</td>\n","      <td>HK</td>\n","      <td>Hong Kong</td>\n","      <td>t</td>\n","      <td>5.0</td>\n","      <td>2.0</td>\n","      <td>2017.0</td>\n","      <td>Hong Kong</td>\n","      <td>5.362475</td>\n","    </tr>\n","    <tr>\n","      <th>766</th>\n","      <td>2018.0</td>\n","      <td>HK</td>\n","      <td>Hong Kong</td>\n","      <td>t</td>\n","      <td>5.0</td>\n","      <td>2.0</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>767</th>\n","      <td>2019.0</td>\n","      <td>HK</td>\n","      <td>Hong Kong</td>\n","      <td>t</td>\n","      <td>5.0</td>\n","      <td>2.0</td>\n","      <td>2019.0</td>\n","      <td>Hong Kong</td>\n","      <td>5.659317</td>\n","    </tr>\n","    <tr>\n","      <th>768</th>\n","      <td>2020.0</td>\n","      <td>HK</td>\n","      <td>Hong Kong</td>\n","      <td>t</td>\n","      <td>5.0</td>\n","      <td>3.0</td>\n","      <td>2020.0</td>\n","      <td>Hong Kong</td>\n","      <td>5.295341</td>\n","    </tr>\n","    <tr>\n","      <th>769</th>\n","      <td>2021.0</td>\n","      <td>HK</td>\n","      <td>Hong Kong</td>\n","      <td>t</td>\n","      <td>5.0</td>\n","      <td>3.0</td>\n","      <td>2021.0</td>\n","      <td>Hong Kong</td>\n","      <td>5.321551</td>\n","    </tr>\n","    <tr>\n","      <th>770</th>\n","      <td>2022.0</td>\n","      <td>HK</td>\n","      <td>Hong Kong</td>\n","      <td>t</td>\n","      <td>6.0</td>\n","      <td>4.0</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-c293cbbd-2a66-4384-821b-4ef8112ee25c')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-c293cbbd-2a66-4384-821b-4ef8112ee25c button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-c293cbbd-2a66-4384-821b-4ef8112ee25c');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-c4f5038e-2dc3-4b32-be1c-c6cd6246f981\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-c4f5038e-2dc3-4b32-be1c-c6cd6246f981')\"\n","            title=\"Suggest charts.\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-c4f5038e-2dc3-4b32-be1c-c6cd6246f981 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":35}],"source":["merged_df[merged_df['Country/Territory']=='Hong Kong'][['Edition','ISO_code','Country/Territory', 'C/T', 'PR rating', 'CL rating', 'year', 'Country name', 'Happiness']]"]},{"cell_type":"code","execution_count":36,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":137,"status":"ok","timestamp":1694076241500,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"mcUsmHr2A9gN","outputId":"005a2c00-0824-4264-d162-818e4fcedce4"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["Country/Territory                     8\n","Region                                8\n","C/T                                   8\n","Edition                               8\n","Status                                8\n","PR rating                             8\n","CL rating                             8\n","A1                                    8\n","A2                                    8\n","A3                                    8\n","A                                     8\n","B1                                    8\n","B2                                    8\n","B3                                    8\n","B4                                    8\n","B                                     8\n","C1                                    8\n","C2                                    8\n","C3                                    8\n","C                                     8\n","Add Q                                 8\n","PR                                    8\n","D1                                    8\n","D2                                    8\n","D3                                    8\n","D4                                    8\n","D                                     8\n","E1                                    8\n","E2                                    8\n","E3                                    8\n","E                                     8\n","F1                                    8\n","F2                                    8\n","F3                                    8\n","F4                                    8\n","F                                     8\n","G1                                    8\n","G2                                    8\n","G3                                    8\n","G4                                    8\n","G                                     8\n","CL                                    8\n","Total                                 8\n","ISO_code                              8\n","Country name                        757\n","year                                757\n","Happiness                           757\n","Log GDP per capita                  761\n","Social support                      758\n","Healthy life expectancy at birth    791\n","Freedom to make life choices        758\n","Generosity                          762\n","Perceptions of corruption           801\n","Positive affect                     759\n","Negative affect                     759\n","Happiness scaled                    757\n","dtype: int64"]},"metadata":{},"execution_count":36}],"source":["merged_df.isna().sum()"]},{"cell_type":"code","execution_count":37,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":132,"status":"ok","timestamp":1694076241502,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"AmUEdDL0Dlps","outputId":"bec7be00-5816-431a-e807-452509223d1a"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["array([nan], dtype=object)"]},"metadata":{},"execution_count":37}],"source":["merged_df[merged_df['ISO_code'].isna()==True]['Country/Territory'].unique()"]},{"cell_type":"code","execution_count":38,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":128,"status":"ok","timestamp":1694076241507,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"ycwbxbLXpjgu","outputId":"2bf9ea93-a486-48b4-ad82-d1261a15fad6"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["array(['Afghanistan', 'Albania', 'Algeria', 'Andorra', 'Angola',\n","       'Antigua and Barbuda', 'Argentina', 'Armenia', 'Australia',\n","       'Austria', 'Azerbaijan', 'Bahamas', 'Bahrain', 'Bangladesh',\n","       'Barbados', 'Belarus', 'Belgium', 'Belize', 'Benin', 'Bhutan',\n","       'Bolivia', 'Bosnia and Herzegovina', 'Botswana', 'Brazil',\n","       'Brunei', 'Bulgaria', 'Burkina Faso', 'Burundi', 'Cabo Verde',\n","       'Cambodia', 'Cameroon', 'Canada', 'Central African Republic',\n","       'Chad', 'Chile', 'China', 'Colombia', 'Comoros',\n","       'Congo (Brazzaville)', 'Congo (Kinshasa)', 'Costa Rica',\n","       \"Cote d'Ivoire\", 'Croatia', 'Cuba', 'Cyprus', 'Czech Republic',\n","       'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic', 'Ecuador',\n","       'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia',\n","       'Eswatini', 'Ethiopia', 'Fiji', 'Finland', 'France', 'Gabon',\n","       'Georgia', 'Germany', 'Ghana', 'Greece', 'Grenada', 'Guatemala',\n","       'Guinea', 'Guinea-Bissau', 'Guyana', 'Haiti', 'Honduras',\n","       'Hungary', 'Iceland', 'India', 'Indonesia', 'Iran', 'Iraq',\n","       'Ireland', 'Israel', 'Italy', 'Jamaica', 'Japan', 'Jordan',\n","       'Kazakhstan', 'Kenya', 'Kiribati', 'Kosovo', 'Kuwait',\n","       'Kyrgyzstan', 'Laos', 'Latvia', 'Lebanon', 'Lesotho', 'Liberia',\n","       'Libya', 'Liechtenstein', 'Lithuania', 'Luxembourg', 'Madagascar',\n","       'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta',\n","       'Marshall Islands', 'Mauritania', 'Mauritius', 'Mexico',\n","       'Micronesia', 'Moldova', 'Monaco', 'Mongolia', 'Montenegro',\n","       'Morocco', 'Mozambique', 'Myanmar', 'Namibia', 'Nauru', 'Nepal',\n","       'Netherlands', 'New Zealand', 'Nicaragua', 'Niger', 'Nigeria',\n","       'North Korea', 'North Macedonia', 'Norway', 'Oman', 'Pakistan',\n","       'Palau', 'Panama', 'Papua New Guinea', 'Paraguay', 'Peru',\n","       'Philippines', 'Poland', 'Portugal', 'Qatar', 'Romania', 'Russia',\n","       'Rwanda', 'Samoa', 'San Marino', 'Sao Tome and Principe',\n","       'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles', 'Sierra Leone',\n","       'Singapore', 'Slovakia', 'Slovenia', 'Solomon Islands', 'Somalia',\n","       'South Africa', 'South Korea', 'South Sudan', 'Spain', 'Sri Lanka',\n","       'St. Kitts and Nevis', 'St. Lucia',\n","       'St. Vincent and the Grenadines', 'Sudan', 'Suriname', 'Sweden',\n","       'Switzerland', 'Syria', 'Taiwan', 'Tajikistan', 'Tanzania',\n","       'Thailand', 'The Gambia', 'Timor-Leste', 'Togo', 'Tonga',\n","       'Trinidad and Tobago', 'Tunisia', 'Turkey', 'Turkmenistan',\n","       'Tuvalu', 'Uganda', 'Ukraine', 'United Arab Emirates',\n","       'United Kingdom', 'United States', 'Uruguay', 'Uzbekistan',\n","       'Vanuatu', 'Venezuela', 'Vietnam', 'Yemen', 'Zambia', 'Zimbabwe'],\n","      dtype=object)"]},"metadata":{},"execution_count":38}],"source":["countries_freedom = freedom[freedom['C/T']=='c']['Country/Territory'].unique()\n","countries_freedom"]},{"cell_type":"code","execution_count":39,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":126,"status":"ok","timestamp":1694076241513,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"_PFcC0c2t3Dg","outputId":"34f5d5da-7644-4ead-e972-807d7dc87f64"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["array(['Afghanistan', 'Albania', 'Algeria', 'Angola', 'Argentina',\n","       'Armenia', 'Australia', 'Austria', 'Azerbaijan', 'Bahrain',\n","       'Bangladesh', 'Belarus', 'Belgium', 'Belize', 'Benin', 'Bhutan',\n","       'Bolivia', 'Bosnia and Herzegovina', 'Botswana', 'Brazil',\n","       'Bulgaria', 'Burkina Faso', 'Burundi', 'Cambodia', 'Cameroon',\n","       'Canada', 'Central African Republic', 'Chad', 'Chile', 'China',\n","       'Colombia', 'Comoros', 'Congo (Brazzaville)', 'Congo (Kinshasa)',\n","       'Costa Rica', 'Croatia', 'Cyprus', 'Czech Republic', 'Denmark',\n","       'Dominican Republic', 'Ecuador', 'Egypt', 'El Salvador', 'Estonia',\n","       'Eswatini', 'Ethiopia', 'Finland', 'France', 'Gabon', 'The Gambia',\n","       'Georgia', 'Germany', 'Ghana', 'Greece', 'Guatemala', 'Guinea',\n","       'Haiti', 'Honduras', 'Hong Kong', 'Hungary', 'Iceland', 'India',\n","       'Indonesia', 'Iran', 'Iraq', 'Ireland', 'Israel', 'Italy',\n","       \"Cote d'Ivoire\", 'Jamaica', 'Japan', 'Jordan', 'Kazakhstan',\n","       'Kenya', 'Kosovo', 'Kuwait', 'Kyrgyzstan', 'Laos', 'Latvia',\n","       'Lebanon', 'Lesotho', 'Liberia', 'Libya', 'Lithuania',\n","       'Luxembourg', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives',\n","       'Mali', 'Malta', 'Mauritania', 'Mauritius', 'Mexico', 'Moldova',\n","       'Mongolia', 'Montenegro', 'Morocco', 'Mozambique', 'Myanmar',\n","       'Namibia', 'Nepal', 'Netherlands', 'New Zealand', 'Nicaragua',\n","       'Niger', 'Nigeria', 'North Macedonia', 'Norway', 'Pakistan',\n","       'Panama', 'Paraguay', 'Peru', 'Philippines', 'Poland', 'Portugal',\n","       'Qatar', 'Romania', 'Russia', 'Rwanda', 'Saudi Arabia', 'Senegal',\n","       'Serbia', 'Sierra Leone', 'Singapore', 'Slovakia', 'Slovenia',\n","       'Somalia', 'South Africa', 'South Korea', 'South Sudan', 'Spain',\n","       'Sri Lanka', 'State of Palestine', 'Sudan', 'Sweden',\n","       'Switzerland', 'Syria', 'Taiwan', 'Tajikistan', 'Tanzania',\n","       'Thailand', 'Togo', 'Trinidad and Tobago', 'Tunisia', 'Turkey',\n","       'Turkmenistan', 'Uganda', 'Ukraine', 'United Arab Emirates',\n","       'United Kingdom', 'United States', 'Uruguay', 'Uzbekistan',\n","       'Venezuela', 'Vietnam', 'Yemen', 'Zambia', 'Zimbabwe'],\n","      dtype=object)"]},"metadata":{},"execution_count":39}],"source":["countries_happiness = happiness['Country name'].unique()\n","countries_happiness"]},{"cell_type":"code","execution_count":40,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":127,"status":"ok","timestamp":1694076241527,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"2_QK_eHuuPI3","outputId":"abbcccd2-434a-47d7-b562-e651af3c91e1"},"outputs":[{"output_type":"stream","name":"stdout","text":["The states present in happiness and not in freedom are 2, so: ['Hong Kong', 'State of Palestine']\n","Hong Kong is actually present, but it is a territory\n"]}],"source":["difference = [x for x in countries_happiness if x not in countries_freedom]\n","print(f\"The states present in happiness and not in freedom are {len(difference)}, so: {difference}\")\n","print(\"Hong Kong is actually present, but it is a territory\")"]},{"cell_type":"code","execution_count":41,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":119,"status":"ok","timestamp":1694076241533,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"wXGOakr_vbUU","outputId":"29e6644c-1140-44a7-9fa8-19103ccf77db"},"outputs":[{"output_type":"stream","name":"stdout","text":["The states present in happiness and not in freedom are 38, so: ['Andorra', 'Antigua and Barbuda', 'Bahamas', 'Barbados', 'Brunei', 'Cabo Verde', 'Cuba', 'Djibouti', 'Dominica', 'Equatorial Guinea', 'Eritrea', 'Fiji', 'Grenada', 'Guinea-Bissau', 'Guyana', 'Kiribati', 'Liechtenstein', 'Marshall Islands', 'Micronesia', 'Monaco', 'Nauru', 'North Korea', 'Oman', 'Palau', 'Papua New Guinea', 'Samoa', 'San Marino', 'Sao Tome and Principe', 'Seychelles', 'Solomon Islands', 'St. Kitts and Nevis', 'St. Lucia', 'St. Vincent and the Grenadines', 'Suriname', 'Timor-Leste', 'Tonga', 'Tuvalu', 'Vanuatu']\n"]}],"source":["difference_inverse = [x for x in countries_freedom if x not in countries_happiness]\n","print(f\"The states present in happiness and not in freedom are {len(difference_inverse)}, so: {difference_inverse}\")"]},{"cell_type":"markdown","metadata":{"id":"HE4mVmFZAVMJ"},"source":["**Dimensions of the integrated dataset with an outer join:**"]},{"cell_type":"code","execution_count":42,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":120,"status":"ok","timestamp":1694076241540,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"Lz5Ye9DEAMMo","outputId":"5f69304c-b8c5-4f11-dff9-2aff05eb530b"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["(2103, 56)"]},"metadata":{},"execution_count":42}],"source":["merged_df.shape"]},{"cell_type":"markdown","metadata":{"id":"Z0n9NPN5_7zL"},"source":["### INNER JOIN"]},{"cell_type":"code","execution_count":43,"metadata":{"id":"Key7GRlCAfJa","executionInfo":{"status":"ok","timestamp":1694076241542,"user_tz":-120,"elapsed":116,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["inner_df = pd.merge(freedom, happiness, left_on=['Country/Territory', 'Edition'], right_on=['Country name', 'year'], how='inner')"]},{"cell_type":"code","execution_count":44,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":121,"status":"ok","timestamp":1694076241549,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"UK5bZ0aeH-L6","outputId":"ed09d43f-00a2-4ebe-b2fe-e3505253e6b0"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["(1338, 56)"]},"metadata":{},"execution_count":44}],"source":["inner_df.shape"]},{"cell_type":"code","execution_count":45,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":116,"status":"ok","timestamp":1694076241551,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"lWmtFxQ_Iuxd","outputId":"39de0e4f-977c-473f-fcef-9e6d383755bb"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["Country/Territory                    0\n","Region                               0\n","C/T                                  0\n","Edition                              0\n","Status                               0\n","PR rating                            0\n","CL rating                            0\n","A1                                   0\n","A2                                   0\n","A3                                   0\n","A                                    0\n","B1                                   0\n","B2                                   0\n","B3                                   0\n","B4                                   0\n","B                                    0\n","C1                                   0\n","C2                                   0\n","C3                                   0\n","C                                    0\n","Add Q                                0\n","PR                                   0\n","D1                                   0\n","D2                                   0\n","D3                                   0\n","D4                                   0\n","D                                    0\n","E1                                   0\n","E2                                   0\n","E3                                   0\n","E                                    0\n","F1                                   0\n","F2                                   0\n","F3                                   0\n","F4                                   0\n","F                                    0\n","G1                                   0\n","G2                                   0\n","G3                                   0\n","G4                                   0\n","G                                    0\n","CL                                   0\n","Total                                0\n","ISO_code                             0\n","Country name                         0\n","year                                 0\n","Happiness                            0\n","Log GDP per capita                   4\n","Social support                       1\n","Healthy life expectancy at birth    26\n","Freedom to make life choices         1\n","Generosity                           5\n","Perceptions of corruption           44\n","Positive affect                      2\n","Negative affect                      2\n","Happiness scaled                     0\n","dtype: int64"]},"metadata":{},"execution_count":45}],"source":["inner_df.isna().sum()"]},{"cell_type":"code","execution_count":46,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":339},"executionInfo":{"elapsed":112,"status":"ok","timestamp":1694076241553,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"qDloAZTYTJgH","outputId":"c3be93b5-ba42-4a09-af7c-0b31bddb8beb"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["    Country/Territory Region C/T  Edition Status  PR rating  CL rating  A1  \\\n","491         Hong Kong   Asia   t     2014     PF          5          2   0   \n","492         Hong Kong   Asia   t     2016     PF          5          2   0   \n","493         Hong Kong   Asia   t     2017     PF          5          2   0   \n","494         Hong Kong   Asia   t     2019     PF          5          2   0   \n","495         Hong Kong   Asia   t     2020     PF          5          3   0   \n","496         Hong Kong   Asia   t     2021     PF          5          3   0   \n","\n","     A2  A3  ...  Happiness  Log GDP per capita  Social support  \\\n","491   2   1  ...   5.458051           10.939480        0.833558   \n","492   2   1  ...   5.498421           10.969893        0.832078   \n","493   2   1  ...   5.362475           10.999467        0.831066   \n","494   1   1  ...   5.659317           10.995218        0.855826   \n","495   1   1  ...   5.295341           10.931117        0.812943   \n","496   1   1  ...   5.321551           11.001736        0.821089   \n","\n","     Healthy life expectancy at birth  Freedom to make life choices  \\\n","491                               NaN                      0.843082   \n","492                               NaN                      0.799743   \n","493                               NaN                      0.830657   \n","494                               NaN                      0.726852   \n","495                               NaN                      0.705452   \n","496                               NaN                      0.668631   \n","\n","     Generosity  Perceptions of corruption  Positive affect  Negative affect  \\\n","491    0.219372                   0.422960         0.602495         0.242868   \n","492    0.095778                   0.402813         0.568555         0.213115   \n","493    0.135592                   0.415810         0.535812         0.200593   \n","494    0.063232                   0.431974         0.519312         0.357607   \n","495   -0.074210                   0.380351         0.521671         0.210314   \n","496    0.022381                   0.389589         0.534148         0.223565   \n","\n","     Happiness scaled  \n","491         54.580507  \n","492         54.984207  \n","493         53.624749  \n","494         56.593170  \n","495         52.953415  \n","496         53.215508  \n","\n","[6 rows x 56 columns]"],"text/html":["\n","  <div id=\"df-3d057e6a-6ac6-443c-bc4b-9a02997927c9\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Country/Territory</th>\n","      <th>Region</th>\n","      <th>C/T</th>\n","      <th>Edition</th>\n","      <th>Status</th>\n","      <th>PR rating</th>\n","      <th>CL rating</th>\n","      <th>A1</th>\n","      <th>A2</th>\n","      <th>A3</th>\n","      <th>...</th>\n","      <th>Happiness</th>\n","      <th>Log GDP per capita</th>\n","      <th>Social support</th>\n","      <th>Healthy life expectancy at birth</th>\n","      <th>Freedom to make life choices</th>\n","      <th>Generosity</th>\n","      <th>Perceptions of corruption</th>\n","      <th>Positive affect</th>\n","      <th>Negative affect</th>\n","      <th>Happiness scaled</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>491</th>\n","      <td>Hong Kong</td>\n","      <td>Asia</td>\n","      <td>t</td>\n","      <td>2014</td>\n","      <td>PF</td>\n","      <td>5</td>\n","      <td>2</td>\n","      <td>0</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>5.458051</td>\n","      <td>10.939480</td>\n","      <td>0.833558</td>\n","      <td>NaN</td>\n","      <td>0.843082</td>\n","      <td>0.219372</td>\n","      <td>0.422960</td>\n","      <td>0.602495</td>\n","      <td>0.242868</td>\n","      <td>54.580507</td>\n","    </tr>\n","    <tr>\n","      <th>492</th>\n","      <td>Hong Kong</td>\n","      <td>Asia</td>\n","      <td>t</td>\n","      <td>2016</td>\n","      <td>PF</td>\n","      <td>5</td>\n","      <td>2</td>\n","      <td>0</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>5.498421</td>\n","      <td>10.969893</td>\n","      <td>0.832078</td>\n","      <td>NaN</td>\n","      <td>0.799743</td>\n","      <td>0.095778</td>\n","      <td>0.402813</td>\n","      <td>0.568555</td>\n","      <td>0.213115</td>\n","      <td>54.984207</td>\n","    </tr>\n","    <tr>\n","      <th>493</th>\n","      <td>Hong Kong</td>\n","      <td>Asia</td>\n","      <td>t</td>\n","      <td>2017</td>\n","      <td>PF</td>\n","      <td>5</td>\n","      <td>2</td>\n","      <td>0</td>\n","      <td>2</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>5.362475</td>\n","      <td>10.999467</td>\n","      <td>0.831066</td>\n","      <td>NaN</td>\n","      <td>0.830657</td>\n","      <td>0.135592</td>\n","      <td>0.415810</td>\n","      <td>0.535812</td>\n","      <td>0.200593</td>\n","      <td>53.624749</td>\n","    </tr>\n","    <tr>\n","      <th>494</th>\n","      <td>Hong Kong</td>\n","      <td>Asia</td>\n","      <td>t</td>\n","      <td>2019</td>\n","      <td>PF</td>\n","      <td>5</td>\n","      <td>2</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>5.659317</td>\n","      <td>10.995218</td>\n","      <td>0.855826</td>\n","      <td>NaN</td>\n","      <td>0.726852</td>\n","      <td>0.063232</td>\n","      <td>0.431974</td>\n","      <td>0.519312</td>\n","      <td>0.357607</td>\n","      <td>56.593170</td>\n","    </tr>\n","    <tr>\n","      <th>495</th>\n","      <td>Hong Kong</td>\n","      <td>Asia</td>\n","      <td>t</td>\n","      <td>2020</td>\n","      <td>PF</td>\n","      <td>5</td>\n","      <td>3</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>5.295341</td>\n","      <td>10.931117</td>\n","      <td>0.812943</td>\n","      <td>NaN</td>\n","      <td>0.705452</td>\n","      <td>-0.074210</td>\n","      <td>0.380351</td>\n","      <td>0.521671</td>\n","      <td>0.210314</td>\n","      <td>52.953415</td>\n","    </tr>\n","    <tr>\n","      <th>496</th>\n","      <td>Hong Kong</td>\n","      <td>Asia</td>\n","      <td>t</td>\n","      <td>2021</td>\n","      <td>PF</td>\n","      <td>5</td>\n","      <td>3</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>...</td>\n","      <td>5.321551</td>\n","      <td>11.001736</td>\n","      <td>0.821089</td>\n","      <td>NaN</td>\n","      <td>0.668631</td>\n","      <td>0.022381</td>\n","      <td>0.389589</td>\n","      <td>0.534148</td>\n","      <td>0.223565</td>\n","      <td>53.215508</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>6 rows × 56 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-3d057e6a-6ac6-443c-bc4b-9a02997927c9')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-3d057e6a-6ac6-443c-bc4b-9a02997927c9 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-3d057e6a-6ac6-443c-bc4b-9a02997927c9');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-d02240c4-8e47-475a-b86c-d8c77728babf\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-d02240c4-8e47-475a-b86c-d8c77728babf')\"\n","            title=\"Suggest charts.\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-d02240c4-8e47-475a-b86c-d8c77728babf button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":46}],"source":["inner_df.loc[inner_df['Country name']=='Hong Kong']"]},{"cell_type":"markdown","metadata":{"id":"dnaXq0MnCLJP"},"source":["**Removing additional question 'Add A'**"]},{"cell_type":"code","execution_count":47,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":327},"executionInfo":{"elapsed":756,"status":"ok","timestamp":1694076242200,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"Nol1LdZK-LTs","outputId":"1926b778-6e07-4342-f902-87920474e098"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["             name alpha-2 alpha-3  country-code     iso_3166-2   region  \\\n","0     Afghanistan      AF     AFG             4  ISO 3166-2:AF     Asia   \n","1   Åland Islands      AX     ALA           248  ISO 3166-2:AX   Europe   \n","2         Albania      AL     ALB             8  ISO 3166-2:AL   Europe   \n","3         Algeria      DZ     DZA            12  ISO 3166-2:DZ   Africa   \n","4  American Samoa      AS     ASM            16  ISO 3166-2:AS  Oceania   \n","\n","        sub-region intermediate-region  region-code  sub-region-code  \\\n","0    Southern Asia                 NaN        142.0             34.0   \n","1  Northern Europe                 NaN        150.0            154.0   \n","2  Southern Europe                 NaN        150.0             39.0   \n","3  Northern Africa                 NaN          2.0             15.0   \n","4        Polynesia                 NaN          9.0             61.0   \n","\n","   intermediate-region-code  \n","0                       NaN  \n","1                       NaN  \n","2                       NaN  \n","3                       NaN  \n","4                       NaN  "],"text/html":["\n","  <div id=\"df-3ce2e928-9e14-47f9-803e-706ab0bb586e\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>name</th>\n","      <th>alpha-2</th>\n","      <th>alpha-3</th>\n","      <th>country-code</th>\n","      <th>iso_3166-2</th>\n","      <th>region</th>\n","      <th>sub-region</th>\n","      <th>intermediate-region</th>\n","      <th>region-code</th>\n","      <th>sub-region-code</th>\n","      <th>intermediate-region-code</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>Afghanistan</td>\n","      <td>AF</td>\n","      <td>AFG</td>\n","      <td>4</td>\n","      <td>ISO 3166-2:AF</td>\n","      <td>Asia</td>\n","      <td>Southern Asia</td>\n","      <td>NaN</td>\n","      <td>142.0</td>\n","      <td>34.0</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>Åland Islands</td>\n","      <td>AX</td>\n","      <td>ALA</td>\n","      <td>248</td>\n","      <td>ISO 3166-2:AX</td>\n","      <td>Europe</td>\n","      <td>Northern Europe</td>\n","      <td>NaN</td>\n","      <td>150.0</td>\n","      <td>154.0</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>Albania</td>\n","      <td>AL</td>\n","      <td>ALB</td>\n","      <td>8</td>\n","      <td>ISO 3166-2:AL</td>\n","      <td>Europe</td>\n","      <td>Southern Europe</td>\n","      <td>NaN</td>\n","      <td>150.0</td>\n","      <td>39.0</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>Algeria</td>\n","      <td>DZ</td>\n","      <td>DZA</td>\n","      <td>12</td>\n","      <td>ISO 3166-2:DZ</td>\n","      <td>Africa</td>\n","      <td>Northern Africa</td>\n","      <td>NaN</td>\n","      <td>2.0</td>\n","      <td>15.0</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>American Samoa</td>\n","      <td>AS</td>\n","      <td>ASM</td>\n","      <td>16</td>\n","      <td>ISO 3166-2:AS</td>\n","      <td>Oceania</td>\n","      <td>Polynesia</td>\n","      <td>NaN</td>\n","      <td>9.0</td>\n","      <td>61.0</td>\n","      <td>NaN</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-3ce2e928-9e14-47f9-803e-706ab0bb586e')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-3ce2e928-9e14-47f9-803e-706ab0bb586e button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-3ce2e928-9e14-47f9-803e-706ab0bb586e');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-f1845402-1a92-4e28-a293-dbff6876e28a\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-f1845402-1a92-4e28-a293-dbff6876e28a')\"\n","            title=\"Suggest charts.\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-f1845402-1a92-4e28-a293-dbff6876e28a button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":47}],"source":["country_matching = pd.read_csv('/content/drive/MyDrive/DS LAB - Colombaro, Ferretti, Fracchia, Salvatori/OTHERS/country_matching.csv')\n","country_matching.head()"]},{"cell_type":"code","execution_count":48,"metadata":{"id":"tfjpiinLL3d9","executionInfo":{"status":"ok","timestamp":1694076242205,"user_tz":-120,"elapsed":115,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["country_matching['name'].replace('Viet Nam', 'Vietnam', inplace=True)\n","country_matching['name'].replace('Bolivia (Plurinational State of)', 'Bolivia', inplace=True)\n","country_matching['name'].replace('Congo', 'Congo (Brazzaville)', inplace=True)\n","country_matching['name'].replace('Congo, Democratic Republic of the', 'Congo (Kinshasa)', inplace=True)\n","country_matching['name'].replace('Congo', 'Congo (Brazzaville)', inplace=True)\n","country_matching['name'].replace(\"Côte d'Ivoire\", \"Cote d'Ivoire\", inplace=True)\n","country_matching['name'].replace('Czechia', 'Czech Republic', inplace=True)\n","country_matching['name'].replace('Iran (Islamic Republic of)', 'Iran', inplace=True)\n","country_matching['name'].replace(\"Lao People's Democratic Republic\", 'Laos', inplace=True)\n","country_matching['name'].replace('Moldova, Republic of', 'Moldova', inplace=True)\n","country_matching['name'].replace('Russian Federation', 'Russia', inplace=True)\n","country_matching['name'].replace(\"Korea (Democratic People's Republic of)\", 'South Korea', inplace=True)\n","country_matching['name'].replace('Syrian Arab Republic', 'Syria', inplace=True)\n","country_matching['name'].replace('Taiwan, Province of China', 'Taiwan', inplace=True)\n","country_matching['name'].replace('Tanzania, United Republic of', 'Tanzania', inplace=True)\n","country_matching['name'].replace('Gambia', 'The Gambia', inplace=True)\n","country_matching['name'].replace('United Kingdom of Great Britain and Northern Ireland', 'United Kingdom', inplace=True)\n","country_matching['name'].replace('United States of America', 'United States', inplace=True)\n","country_matching['name'].replace('Venezuela (Bolivarian Republic of)', 'Venezuela', inplace=True)"]},{"cell_type":"code","execution_count":49,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":116,"status":"ok","timestamp":1694076242210,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"5cUVpIT3-PDd","outputId":"b92d2219-aede-4cc7-a68d-04a26317c251"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["(1338, 67)"]},"metadata":{},"execution_count":49}],"source":["inner_df = pd.merge(inner_df, country_matching, left_on='Country/Territory', right_on='name', how='left')\n","inner_df.shape"]},{"cell_type":"code","execution_count":50,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":115,"status":"ok","timestamp":1694076242218,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"bdbk8-7LK8T-","outputId":"1fb2c36a-eac6-47ad-c57b-8b904d249d73"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["array(['Kosovo'], dtype=object)"]},"metadata":{},"execution_count":50}],"source":["inner_df[inner_df['name'].isna()==True]['Country/Territory'].unique()"]},{"cell_type":"markdown","metadata":{"id":"Ux7OS9wYKkOM"},"source":["## Removing duplicate or redundant rows"]},{"cell_type":"code","execution_count":51,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":111,"status":"ok","timestamp":1694076242221,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"m5NM_bD8bY26","outputId":"6ef0e866-7664-42ea-8ec6-69bd2b9d58a1"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["Index(['Country/Territory', 'Region', 'C/T', 'Edition', 'Status', 'PR rating',\n","       'CL rating', 'A1', 'A2', 'A3', 'A', 'B1', 'B2', 'B3', 'B4', 'B', 'C1',\n","       'C2', 'C3', 'C', 'Add Q', 'PR', 'D1', 'D2', 'D3', 'D4', 'D', 'E1', 'E2',\n","       'E3', 'E', 'F1', 'F2', 'F3', 'F4', 'F', 'G1', 'G2', 'G3', 'G4', 'G',\n","       'CL', 'Total', 'ISO_code', 'Country name', 'year', 'Happiness',\n","       'Log GDP per capita', 'Social support',\n","       'Healthy life expectancy at birth', 'Freedom to make life choices',\n","       'Generosity', 'Perceptions of corruption', 'Positive affect',\n","       'Negative affect', 'Happiness scaled', 'name', 'alpha-2', 'alpha-3',\n","       'country-code', 'iso_3166-2', 'region', 'sub-region',\n","       'intermediate-region', 'region-code', 'sub-region-code',\n","       'intermediate-region-code'],\n","      dtype='object')"]},"metadata":{},"execution_count":51}],"source":["inner_df.columns"]},{"cell_type":"code","execution_count":52,"metadata":{"id":"XBdHbi2MKoQR","executionInfo":{"status":"ok","timestamp":1694076242227,"user_tz":-120,"elapsed":109,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["inner_df.drop(['intermediate-region', 'intermediate-region-code', 'year', 'ISO_code', 'Country/Territory', 'name', 'alpha-2', 'alpha-3'], axis=1, inplace=True)"]},{"cell_type":"code","execution_count":53,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":110,"status":"ok","timestamp":1694076242229,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"eSvAInX6LLPe","outputId":"898594d6-f561-4e84-f9f8-aeaad6da8c5d"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["Index(['Region', 'C/T', 'Edition', 'Status', 'PR rating', 'CL rating', 'A1',\n","       'A2', 'A3', 'A', 'B1', 'B2', 'B3', 'B4', 'B', 'C1', 'C2', 'C3', 'C',\n","       'Add Q', 'PR', 'D1', 'D2', 'D3', 'D4', 'D', 'E1', 'E2', 'E3', 'E', 'F1',\n","       'F2', 'F3', 'F4', 'F', 'G1', 'G2', 'G3', 'G4', 'G', 'CL', 'Total',\n","       'Country name', 'Happiness', 'Log GDP per capita', 'Social support',\n","       'Healthy life expectancy at birth', 'Freedom to make life choices',\n","       'Generosity', 'Perceptions of corruption', 'Positive affect',\n","       'Negative affect', 'Happiness scaled', 'country-code', 'iso_3166-2',\n","       'region', 'sub-region', 'region-code', 'sub-region-code'],\n","      dtype='object')"]},"metadata":{},"execution_count":53}],"source":["inner_df.columns"]},{"cell_type":"code","execution_count":54,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":106,"status":"ok","timestamp":1694076242232,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"Vh-eOmHnd0dI","outputId":"6155ccbf-f3b9-4a49-fbdb-529725a4de56"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["0       6\n","1       6\n","2       6\n","3       6\n","4       6\n","       ..\n","1333    6\n","1334    5\n","1335    5\n","1336    6\n","1337    6\n","Name: PR rating, Length: 1338, dtype: int64"]},"metadata":{},"execution_count":54}],"source":["inner_df['PR rating']"]},{"cell_type":"code","execution_count":55,"metadata":{"id":"PB2lPlTMcs2Y","executionInfo":{"status":"ok","timestamp":1694076242233,"user_tz":-120,"elapsed":99,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["percent_change = ['PR','CL', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'Total', 'Happiness', 'Log GDP per capita', 'Social support', 'Healthy life expectancy at birth', 'Freedom to make life choices', 'Generosity', 'Perceptions of corruption']"]},{"cell_type":"code","execution_count":56,"metadata":{"id":"3CH6eMl5e5Ls","executionInfo":{"status":"ok","timestamp":1694076242529,"user_tz":-120,"elapsed":392,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["for target_column in percent_change:\n","  new_column = target_column + ' % change'\n","  target_index = inner_df.columns.get_loc(target_column) + 1\n","  inner_df.insert(target_index, new_column, 0)"]},{"cell_type":"code","execution_count":57,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":676},"executionInfo":{"elapsed":15,"status":"ok","timestamp":1694076242533,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"3mnPcFWdhTjS","outputId":"3ac3587b-7840-4f60-ce47-ad60864074b3"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["   Country name  Edition  PR\n","0   Afghanistan     2013  11\n","1   Afghanistan     2014  11\n","2   Afghanistan     2015  11\n","3   Afghanistan     2016  10\n","4   Afghanistan     2017  10\n","5   Afghanistan     2018  12\n","6   Afghanistan     2019  13\n","7   Afghanistan     2021  13\n","8   Afghanistan     2022   1\n","9       Albania     2013  24\n","10      Albania     2014  27\n","11      Albania     2015  27\n","12      Albania     2016  27\n","13      Albania     2017  28\n","14      Albania     2018  28\n","15      Albania     2019  28\n","16      Albania     2020  27\n","17      Albania     2021  27\n","18      Albania     2022  28\n","19      Algeria     2014  11"],"text/html":["\n","  <div id=\"df-c8b014ca-27d9-425a-8ea0-347f3d4b3437\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Country name</th>\n","      <th>Edition</th>\n","      <th>PR</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>Afghanistan</td>\n","      <td>2013</td>\n","      <td>11</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>Afghanistan</td>\n","      <td>2014</td>\n","      <td>11</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>Afghanistan</td>\n","      <td>2015</td>\n","      <td>11</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>Afghanistan</td>\n","      <td>2016</td>\n","      <td>10</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>Afghanistan</td>\n","      <td>2017</td>\n","      <td>10</td>\n","    </tr>\n","    <tr>\n","      <th>5</th>\n","      <td>Afghanistan</td>\n","      <td>2018</td>\n","      <td>12</td>\n","    </tr>\n","    <tr>\n","      <th>6</th>\n","      <td>Afghanistan</td>\n","      <td>2019</td>\n","      <td>13</td>\n","    </tr>\n","    <tr>\n","      <th>7</th>\n","      <td>Afghanistan</td>\n","      <td>2021</td>\n","      <td>13</td>\n","    </tr>\n","    <tr>\n","      <th>8</th>\n","      <td>Afghanistan</td>\n","      <td>2022</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>9</th>\n","      <td>Albania</td>\n","      <td>2013</td>\n","      <td>24</td>\n","    </tr>\n","    <tr>\n","      <th>10</th>\n","      <td>Albania</td>\n","      <td>2014</td>\n","      <td>27</td>\n","    </tr>\n","    <tr>\n","      <th>11</th>\n","      <td>Albania</td>\n","      <td>2015</td>\n","      <td>27</td>\n","    </tr>\n","    <tr>\n","      <th>12</th>\n","      <td>Albania</td>\n","      <td>2016</td>\n","      <td>27</td>\n","    </tr>\n","    <tr>\n","      <th>13</th>\n","      <td>Albania</td>\n","      <td>2017</td>\n","      <td>28</td>\n","    </tr>\n","    <tr>\n","      <th>14</th>\n","      <td>Albania</td>\n","      <td>2018</td>\n","      <td>28</td>\n","    </tr>\n","    <tr>\n","      <th>15</th>\n","      <td>Albania</td>\n","      <td>2019</td>\n","      <td>28</td>\n","    </tr>\n","    <tr>\n","      <th>16</th>\n","      <td>Albania</td>\n","      <td>2020</td>\n","      <td>27</td>\n","    </tr>\n","    <tr>\n","      <th>17</th>\n","      <td>Albania</td>\n","      <td>2021</td>\n","      <td>27</td>\n","    </tr>\n","    <tr>\n","      <th>18</th>\n","      <td>Albania</td>\n","      <td>2022</td>\n","      <td>28</td>\n","    </tr>\n","    <tr>\n","      <th>19</th>\n","      <td>Algeria</td>\n","      <td>2014</td>\n","      <td>11</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-c8b014ca-27d9-425a-8ea0-347f3d4b3437')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-c8b014ca-27d9-425a-8ea0-347f3d4b3437 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-c8b014ca-27d9-425a-8ea0-347f3d4b3437');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-ec1079a0-3f2b-4270-ab23-3d2550d2f437\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-ec1079a0-3f2b-4270-ab23-3d2550d2f437')\"\n","            title=\"Suggest charts.\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-ec1079a0-3f2b-4270-ab23-3d2550d2f437 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":57}],"source":["inner_df.head(20)[['Country name', 'Edition', 'PR']]"]},{"cell_type":"code","execution_count":58,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":19986,"status":"ok","timestamp":1694076262506,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"},"user_tz":-120},"id":"psyA1Axuh9FI","outputId":"467afb11-11e8-4327-d648-3c9aae1e1fbb"},"outputs":[{"output_type":"stream","name":"stderr","text":["<ipython-input-58-0767897a8ac6>:7: RuntimeWarning: invalid value encountered in long_scalars\n","  inner_df.loc[index, new_column] = (inner_df.loc[index, target_column] - denominator) / denominator\n","<ipython-input-58-0767897a8ac6>:7: RuntimeWarning: divide by zero encountered in long_scalars\n","  inner_df.loc[index, new_column] = (inner_df.loc[index, target_column] - denominator) / denominator\n"]}],"source":["for country in inner_df['Country name'].unique():\n","  for index, row in inner_df.loc[(inner_df['Country name']==country) & (inner_df['Edition']>2013)].iterrows():\n","    for target_column in percent_change:\n","      new_column = target_column + ' % change'\n","      try:\n","        denominator = inner_df.loc[(inner_df['Country name']==country) & (inner_df['Edition'] == row['Edition'] - 1), target_column].iloc[0]\n","        inner_df.loc[index, new_column] = (inner_df.loc[index, target_column] - denominator) / denominator\n","      except:\n","        continue"]},{"cell_type":"markdown","source":["**I added an \"_.iloc[0]_\" to the \"denominator\", because the \"_.loc[]_\" method returns a Series (even if it is a single cell). As we cannot impute a Series (but only its associated value), the method \"_.iloc[]_\" takes the first argument (which is the actual numeric value: int type).**"],"metadata":{"id":"c3J0jPanzWv_"}},{"cell_type":"code","source":["inner_df.head(20)[['Country name', 'PR', 'PR % change']]"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":676},"id":"XYUtkAoFgnq-","executionInfo":{"status":"ok","timestamp":1694076262514,"user_tz":-120,"elapsed":82,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}},"outputId":"66108c45-b0ed-478f-a15b-77cca3920b28"},"execution_count":59,"outputs":[{"output_type":"execute_result","data":{"text/plain":["   Country name  PR  PR % change\n","0   Afghanistan  11     0.000000\n","1   Afghanistan  11     0.000000\n","2   Afghanistan  11     0.000000\n","3   Afghanistan  10    -0.090909\n","4   Afghanistan  10     0.000000\n","5   Afghanistan  12     0.200000\n","6   Afghanistan  13     0.083333\n","7   Afghanistan  13     0.000000\n","8   Afghanistan   1    -0.923077\n","9       Albania  24     0.000000\n","10      Albania  27     0.125000\n","11      Albania  27     0.000000\n","12      Albania  27     0.000000\n","13      Albania  28     0.037037\n","14      Albania  28     0.000000\n","15      Albania  28     0.000000\n","16      Albania  27    -0.035714\n","17      Albania  27     0.000000\n","18      Albania  28     0.037037\n","19      Algeria  11     0.000000"],"text/html":["\n","  <div id=\"df-adbe2559-9fcb-4cf6-858d-8733af9065ff\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Country name</th>\n","      <th>PR</th>\n","      <th>PR % change</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>Afghanistan</td>\n","      <td>11</td>\n","      <td>0.000000</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>Afghanistan</td>\n","      <td>11</td>\n","      <td>0.000000</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>Afghanistan</td>\n","      <td>11</td>\n","      <td>0.000000</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>Afghanistan</td>\n","      <td>10</td>\n","      <td>-0.090909</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>Afghanistan</td>\n","      <td>10</td>\n","      <td>0.000000</td>\n","    </tr>\n","    <tr>\n","      <th>5</th>\n","      <td>Afghanistan</td>\n","      <td>12</td>\n","      <td>0.200000</td>\n","    </tr>\n","    <tr>\n","      <th>6</th>\n","      <td>Afghanistan</td>\n","      <td>13</td>\n","      <td>0.083333</td>\n","    </tr>\n","    <tr>\n","      <th>7</th>\n","      <td>Afghanistan</td>\n","      <td>13</td>\n","      <td>0.000000</td>\n","    </tr>\n","    <tr>\n","      <th>8</th>\n","      <td>Afghanistan</td>\n","      <td>1</td>\n","      <td>-0.923077</td>\n","    </tr>\n","    <tr>\n","      <th>9</th>\n","      <td>Albania</td>\n","      <td>24</td>\n","      <td>0.000000</td>\n","    </tr>\n","    <tr>\n","      <th>10</th>\n","      <td>Albania</td>\n","      <td>27</td>\n","      <td>0.125000</td>\n","    </tr>\n","    <tr>\n","      <th>11</th>\n","      <td>Albania</td>\n","      <td>27</td>\n","      <td>0.000000</td>\n","    </tr>\n","    <tr>\n","      <th>12</th>\n","      <td>Albania</td>\n","      <td>27</td>\n","      <td>0.000000</td>\n","    </tr>\n","    <tr>\n","      <th>13</th>\n","      <td>Albania</td>\n","      <td>28</td>\n","      <td>0.037037</td>\n","    </tr>\n","    <tr>\n","      <th>14</th>\n","      <td>Albania</td>\n","      <td>28</td>\n","      <td>0.000000</td>\n","    </tr>\n","    <tr>\n","      <th>15</th>\n","      <td>Albania</td>\n","      <td>28</td>\n","      <td>0.000000</td>\n","    </tr>\n","    <tr>\n","      <th>16</th>\n","      <td>Albania</td>\n","      <td>27</td>\n","      <td>-0.035714</td>\n","    </tr>\n","    <tr>\n","      <th>17</th>\n","      <td>Albania</td>\n","      <td>27</td>\n","      <td>0.000000</td>\n","    </tr>\n","    <tr>\n","      <th>18</th>\n","      <td>Albania</td>\n","      <td>28</td>\n","      <td>0.037037</td>\n","    </tr>\n","    <tr>\n","      <th>19</th>\n","      <td>Algeria</td>\n","      <td>11</td>\n","      <td>0.000000</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-adbe2559-9fcb-4cf6-858d-8733af9065ff')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-adbe2559-9fcb-4cf6-858d-8733af9065ff button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-adbe2559-9fcb-4cf6-858d-8733af9065ff');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-b55e9bd2-0983-41bc-8af3-e463e05d673f\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-b55e9bd2-0983-41bc-8af3-e463e05d673f')\"\n","            title=\"Suggest charts.\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-b55e9bd2-0983-41bc-8af3-e463e05d673f button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":59}]},{"cell_type":"code","source":["column_name='Country name'\n","col_to_move = inner_df[column_name]\n","inner_df = inner_df.drop(columns=[column_name])\n","inner_df.insert(0, column_name, col_to_move)"],"metadata":{"id":"BX0iMZrhmPju","executionInfo":{"status":"ok","timestamp":1694076262516,"user_tz":-120,"elapsed":76,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"execution_count":60,"outputs":[]},{"cell_type":"code","source":["for i in range(len(percent_change)):\n","  percent_change[i] += ' % change'"],"metadata":{"id":"_bHlDmyO3MEM","executionInfo":{"status":"ok","timestamp":1694076262523,"user_tz":-120,"elapsed":81,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"execution_count":61,"outputs":[]},{"cell_type":"code","source":["inner_df[percent_change] = inner_df[percent_change].apply(lambda x: x**2)"],"metadata":{"id":"5fXiliLm5sRL","executionInfo":{"status":"ok","timestamp":1694076262525,"user_tz":-120,"elapsed":82,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"execution_count":62,"outputs":[]},{"cell_type":"code","source":["percent_change.insert(0, 'Country name')"],"metadata":{"id":"46Vwy92Y47ZI","executionInfo":{"status":"ok","timestamp":1694076262528,"user_tz":-120,"elapsed":84,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"execution_count":63,"outputs":[]},{"cell_type":"code","source":["variance_df = inner_df[percent_change]\n","variance_df"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":530},"id":"NKejtt6J3Wms","executionInfo":{"status":"ok","timestamp":1694076262532,"user_tz":-120,"elapsed":87,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}},"outputId":"d57939e5-789a-4230-e44d-5aa200388995"},"execution_count":64,"outputs":[{"output_type":"execute_result","data":{"text/plain":["     Country name  PR % change  CL % change  A % change  B % change  \\\n","0     Afghanistan     0.000000     0.000000    0.000000    0.000000   \n","1     Afghanistan     0.000000     0.003906    0.000000    0.000000   \n","2     Afghanistan     0.000000     0.017778    0.000000    0.000000   \n","3     Afghanistan     0.008264     0.005917    0.111111    0.000000   \n","4     Afghanistan     0.000000     0.000000    0.000000    0.000000   \n","...           ...          ...          ...         ...         ...   \n","1333     Zimbabwe     0.027778     0.000000    0.111111    0.000000   \n","1334     Zimbabwe     0.040000     0.002500    0.250000    0.000000   \n","1335     Zimbabwe     0.000000     0.011080    0.000000    0.000000   \n","1336     Zimbabwe     0.006944     0.000000    0.000000    0.027778   \n","1337     Zimbabwe     0.000000     0.000000    0.000000    0.000000   \n","\n","      C % change  D % change  E % change  F % change  G % change  \\\n","0       0.000000    0.000000      0.0000    0.000000    0.000000   \n","1       0.000000    0.000000      0.0400    0.000000    0.000000   \n","2       0.000000    0.027778      0.0000    0.000000    0.111111   \n","3       0.000000    0.040000      0.0000    0.000000    0.000000   \n","4       0.000000    0.000000      0.0000    0.000000    0.000000   \n","...          ...         ...         ...         ...         ...   \n","1333    0.111111    0.000000      0.0000    0.000000    0.000000   \n","1334    0.250000    0.000000      0.0000    0.111111    0.000000   \n","1335    0.000000    0.015625      0.0625    0.000000    0.000000   \n","1336    0.000000    0.000000      0.0000    0.000000    0.000000   \n","1337    0.000000    0.000000      0.0000    0.000000    0.000000   \n","\n","      Total % change  Happiness % change  Log GDP per capita % change  \\\n","0           0.000000            0.000000                 0.000000e+00   \n","1           0.001372            0.015256                 1.593457e-06   \n","2           0.005917            0.074046                 4.799525e-06   \n","3           0.000000            0.003550                 2.048018e-07   \n","4           0.000000            0.136372                 1.101576e-07   \n","...              ...                 ...                          ...   \n","1333        0.003906            0.000036                 1.367823e-05   \n","1334        0.001111            0.065131                 1.201456e-04   \n","1335        0.004162            0.029967                 1.745649e-04   \n","1336        0.001189            0.000003                 6.412604e-05   \n","1337        0.000000            0.002016                 2.991884e-06   \n","\n","      Social support % change  Healthy life expectancy at birth % change  \\\n","0                    0.000000                                   0.000000   \n","1                    0.007550                                   0.000033   \n","2                    0.000033                                   0.000033   \n","3                    0.003324                                   0.000038   \n","4                    0.014877                                   0.000038   \n","...                       ...                                        ...   \n","1333                 0.000793                                   0.000083   \n","1334                 0.000438                                   0.000081   \n","1335                 0.003049                                   0.000080   \n","1336                 0.002002                                   0.000079   \n","1337                 0.000767                                   0.000077   \n","\n","      Freedom to make life choices % change  Generosity % change  \\\n","0                                  0.000000             0.000000   \n","1                                  0.014436             0.472780   \n","2                                  0.055304             0.051943   \n","3                                  0.118066             0.213590   \n","4                                  0.033437            13.831439   \n","...                                     ...                  ...   \n","1333                               0.000171             0.133597   \n","1334                               0.029398             0.005376   \n","1335                               0.000325             1.283713   \n","1336                               0.001431           168.244045   \n","1337                               0.000549             0.006432   \n","\n","      Perceptions of corruption % change  \n","0                               0.000000  \n","1                               0.003405  \n","2                               0.000116  \n","3                               0.009848  \n","4                               0.041269  \n","...                                  ...  \n","1333                            0.015327  \n","1334                            0.000258  \n","1335                            0.002572  \n","1336                            0.001604  \n","1337                            0.000032  \n","\n","[1338 rows x 18 columns]"],"text/html":["\n","  <div id=\"df-798df2b5-5f36-4fcc-a883-d6cb5f05114c\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Country name</th>\n","      <th>PR % change</th>\n","      <th>CL % change</th>\n","      <th>A % change</th>\n","      <th>B % change</th>\n","      <th>C % change</th>\n","      <th>D % change</th>\n","      <th>E % change</th>\n","      <th>F % change</th>\n","      <th>G % change</th>\n","      <th>Total % change</th>\n","      <th>Happiness % change</th>\n","      <th>Log GDP per capita % change</th>\n","      <th>Social support % change</th>\n","      <th>Healthy life expectancy at birth % change</th>\n","      <th>Freedom to make life choices % change</th>\n","      <th>Generosity % change</th>\n","      <th>Perceptions of corruption % change</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>Afghanistan</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.0000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>Afghanistan</td>\n","      <td>0.000000</td>\n","      <td>0.003906</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.0400</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.001372</td>\n","      <td>0.015256</td>\n","      <td>1.593457e-06</td>\n","      <td>0.007550</td>\n","      <td>0.000033</td>\n","      <td>0.014436</td>\n","      <td>0.472780</td>\n","      <td>0.003405</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>Afghanistan</td>\n","      <td>0.000000</td>\n","      <td>0.017778</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.027778</td>\n","      <td>0.0000</td>\n","      <td>0.000000</td>\n","      <td>0.111111</td>\n","      <td>0.005917</td>\n","      <td>0.074046</td>\n","      <td>4.799525e-06</td>\n","      <td>0.000033</td>\n","      <td>0.000033</td>\n","      <td>0.055304</td>\n","      <td>0.051943</td>\n","      <td>0.000116</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>Afghanistan</td>\n","      <td>0.008264</td>\n","      <td>0.005917</td>\n","      <td>0.111111</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.040000</td>\n","      <td>0.0000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.003550</td>\n","      <td>2.048018e-07</td>\n","      <td>0.003324</td>\n","      <td>0.000038</td>\n","      <td>0.118066</td>\n","      <td>0.213590</td>\n","      <td>0.009848</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>Afghanistan</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.0000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.136372</td>\n","      <td>1.101576e-07</td>\n","      <td>0.014877</td>\n","      <td>0.000038</td>\n","      <td>0.033437</td>\n","      <td>13.831439</td>\n","      <td>0.041269</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>1333</th>\n","      <td>Zimbabwe</td>\n","      <td>0.027778</td>\n","      <td>0.000000</td>\n","      <td>0.111111</td>\n","      <td>0.000000</td>\n","      <td>0.111111</td>\n","      <td>0.000000</td>\n","      <td>0.0000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.003906</td>\n","      <td>0.000036</td>\n","      <td>1.367823e-05</td>\n","      <td>0.000793</td>\n","      <td>0.000083</td>\n","      <td>0.000171</td>\n","      <td>0.133597</td>\n","      <td>0.015327</td>\n","    </tr>\n","    <tr>\n","      <th>1334</th>\n","      <td>Zimbabwe</td>\n","      <td>0.040000</td>\n","      <td>0.002500</td>\n","      <td>0.250000</td>\n","      <td>0.000000</td>\n","      <td>0.250000</td>\n","      <td>0.000000</td>\n","      <td>0.0000</td>\n","      <td>0.111111</td>\n","      <td>0.000000</td>\n","      <td>0.001111</td>\n","      <td>0.065131</td>\n","      <td>1.201456e-04</td>\n","      <td>0.000438</td>\n","      <td>0.000081</td>\n","      <td>0.029398</td>\n","      <td>0.005376</td>\n","      <td>0.000258</td>\n","    </tr>\n","    <tr>\n","      <th>1335</th>\n","      <td>Zimbabwe</td>\n","      <td>0.000000</td>\n","      <td>0.011080</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.015625</td>\n","      <td>0.0625</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.004162</td>\n","      <td>0.029967</td>\n","      <td>1.745649e-04</td>\n","      <td>0.003049</td>\n","      <td>0.000080</td>\n","      <td>0.000325</td>\n","      <td>1.283713</td>\n","      <td>0.002572</td>\n","    </tr>\n","    <tr>\n","      <th>1336</th>\n","      <td>Zimbabwe</td>\n","      <td>0.006944</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.027778</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.0000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.001189</td>\n","      <td>0.000003</td>\n","      <td>6.412604e-05</td>\n","      <td>0.002002</td>\n","      <td>0.000079</td>\n","      <td>0.001431</td>\n","      <td>168.244045</td>\n","      <td>0.001604</td>\n","    </tr>\n","    <tr>\n","      <th>1337</th>\n","      <td>Zimbabwe</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.0000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.002016</td>\n","      <td>2.991884e-06</td>\n","      <td>0.000767</td>\n","      <td>0.000077</td>\n","      <td>0.000549</td>\n","      <td>0.006432</td>\n","      <td>0.000032</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>1338 rows × 18 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-798df2b5-5f36-4fcc-a883-d6cb5f05114c')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-798df2b5-5f36-4fcc-a883-d6cb5f05114c button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-798df2b5-5f36-4fcc-a883-d6cb5f05114c');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-c896b222-3b9a-41a8-80b7-0265c224044a\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-c896b222-3b9a-41a8-80b7-0265c224044a')\"\n","            title=\"Suggest charts.\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-c896b222-3b9a-41a8-80b7-0265c224044a button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":64}]},{"cell_type":"code","source":["variance_df = variance_df.groupby('Country name').sum()\n","variance_df"],"metadata":{"id":"Ebk0CWkOeOg5","executionInfo":{"status":"ok","timestamp":1694076262539,"user_tz":-120,"elapsed":86,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}},"colab":{"base_uri":"https://localhost:8080/","height":579},"outputId":"aa85ae88-ef7f-4a09-d95c-4d131c7113ac"},"execution_count":65,"outputs":[{"output_type":"execute_result","data":{"text/plain":["              PR % change  CL % change  A % change  B % change  C % change  \\\n","Country name                                                                 \n","Afghanistan      0.907280     0.155152    1.361111    1.027778    0.694444   \n","Albania          0.019644     0.001282    0.015625    0.095917    0.027778   \n","Algeria          0.008264     0.010281    0.062500    0.000000    0.000000   \n","Angola           0.000000     0.002770    0.000000    0.000000    0.000000   \n","Argentina        0.005946     0.001667    0.000000    0.009546    0.111111   \n","...                   ...          ...         ...         ...         ...   \n","Venezuela        0.930443     0.053552    1.360000    0.820755    1.000000   \n","Vietnam          0.250000     0.003460    0.000000    0.000000    1.000000   \n","Yemen            0.830988     0.068851    1.111111    0.562500    1.611111   \n","Zambia           0.036548     0.001783    0.074846    0.082987    0.179705   \n","Zimbabwe         0.082987     0.096488    0.361111    0.067778    0.361111   \n","\n","              D % change  E % change  F % change  G % change  Total % change  \\\n","Country name                                                                   \n","Afghanistan     0.178889    0.102500    1.000000    0.111111        0.412146   \n","Albania         0.000000    0.027971    0.000000    0.000000        0.004923   \n","Algeria         0.020408    0.102500    0.040000    0.000000        0.004277   \n","Angola          0.015625    0.000000    0.000000    0.000000        0.001111   \n","Argentina       0.005102    0.000000    0.008264    0.011019        0.002172   \n","...                  ...         ...         ...         ...             ...   \n","Venezuela       0.048379    0.173611    0.506944    0.124219        0.158117   \n","Vietnam         0.062500    0.000000    0.000000    0.000000        0.005270   \n","Yemen           0.187778    0.000000    0.000000    0.271111        0.165392   \n","Zambia          0.018264    0.000000    0.000000    0.000000        0.009094   \n","Zimbabwe        0.126736    0.173611    1.361111    0.062500        0.045177   \n","\n","              Happiness % change  Log GDP per capita % change  \\\n","Country name                                                    \n","Afghanistan             0.468119                     0.001562   \n","Albania                 0.018581                     0.000190   \n","Algeria                 0.028326                     0.000061   \n","Angola                  0.001306                     0.000001   \n","Argentina               0.014174                     0.000275   \n","...                          ...                          ...   \n","Venezuela               0.203870                     0.205480   \n","Vietnam                 0.019644                     0.000296   \n","Yemen                   0.309900                     0.005485   \n","Zambia                  0.441942                     0.000063   \n","Zimbabwe                0.122760                     0.000385   \n","\n","              Social support % change  \\\n","Country name                            \n","Afghanistan                  0.304205   \n","Albania                      0.039095   \n","Algeria                      0.013561   \n","Angola                       0.002095   \n","Argentina                    0.003620   \n","...                               ...   \n","Venezuela                    0.020543   \n","Vietnam                      0.033856   \n","Yemen                        0.044941   \n","Zambia                       0.110158   \n","Zimbabwe                     0.012649   \n","\n","              Healthy life expectancy at birth % change  \\\n","Country name                                              \n","Afghanistan                                    0.000252   \n","Albania                                        0.000034   \n","Algeria                                        0.000011   \n","Angola                                         0.000140   \n","Argentina                                      0.000010   \n","...                                                 ...   \n","Venezuela                                      0.000052   \n","Vietnam                                        0.000020   \n","Yemen                                          0.000061   \n","Zambia                                         0.000701   \n","Zimbabwe                                       0.001752   \n","\n","              Freedom to make life choices % change  Generosity % change  \\\n","Country name                                                               \n","Afghanistan                                0.244152            15.358684   \n","Albania                                    0.054912           322.789864   \n","Algeria                                    0.489014        204582.442977   \n","Angola                                     0.007309             0.365043   \n","Argentina                                  0.036879            90.451285   \n","...                                             ...                  ...   \n","Venezuela                                  0.274744             6.828239   \n","Vietnam                                    0.015693            40.449399   \n","Yemen                                      0.123109             0.077956   \n","Zambia                                     0.032123            26.915283   \n","Zimbabwe                                   0.057058           170.578892   \n","\n","              Perceptions of corruption % change  \n","Country name                                      \n","Afghanistan                             0.106156  \n","Albania                                 0.006458  \n","Algeria                                 0.009847  \n","Angola                                  0.000470  \n","Argentina                               0.003092  \n","...                                          ...  \n","Venezuela                               0.015015  \n","Vietnam                                 0.017392  \n","Yemen                                   0.007166  \n","Zambia                                  0.042729  \n","Zimbabwe                                0.033038  \n","\n","[158 rows x 17 columns]"],"text/html":["\n","  <div id=\"df-2dc0c8f9-ebd1-4a88-a5e2-9062ed97084c\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>PR % change</th>\n","      <th>CL % change</th>\n","      <th>A % change</th>\n","      <th>B % change</th>\n","      <th>C % change</th>\n","      <th>D % change</th>\n","      <th>E % change</th>\n","      <th>F % change</th>\n","      <th>G % change</th>\n","      <th>Total % change</th>\n","      <th>Happiness % change</th>\n","      <th>Log GDP per capita % change</th>\n","      <th>Social support % change</th>\n","      <th>Healthy life expectancy at birth % change</th>\n","      <th>Freedom to make life choices % change</th>\n","      <th>Generosity % change</th>\n","      <th>Perceptions of corruption % change</th>\n","    </tr>\n","    <tr>\n","      <th>Country name</th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","      <th></th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>Afghanistan</th>\n","      <td>0.907280</td>\n","      <td>0.155152</td>\n","      <td>1.361111</td>\n","      <td>1.027778</td>\n","      <td>0.694444</td>\n","      <td>0.178889</td>\n","      <td>0.102500</td>\n","      <td>1.000000</td>\n","      <td>0.111111</td>\n","      <td>0.412146</td>\n","      <td>0.468119</td>\n","      <td>0.001562</td>\n","      <td>0.304205</td>\n","      <td>0.000252</td>\n","      <td>0.244152</td>\n","      <td>15.358684</td>\n","      <td>0.106156</td>\n","    </tr>\n","    <tr>\n","      <th>Albania</th>\n","      <td>0.019644</td>\n","      <td>0.001282</td>\n","      <td>0.015625</td>\n","      <td>0.095917</td>\n","      <td>0.027778</td>\n","      <td>0.000000</td>\n","      <td>0.027971</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.004923</td>\n","      <td>0.018581</td>\n","      <td>0.000190</td>\n","      <td>0.039095</td>\n","      <td>0.000034</td>\n","      <td>0.054912</td>\n","      <td>322.789864</td>\n","      <td>0.006458</td>\n","    </tr>\n","    <tr>\n","      <th>Algeria</th>\n","      <td>0.008264</td>\n","      <td>0.010281</td>\n","      <td>0.062500</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.020408</td>\n","      <td>0.102500</td>\n","      <td>0.040000</td>\n","      <td>0.000000</td>\n","      <td>0.004277</td>\n","      <td>0.028326</td>\n","      <td>0.000061</td>\n","      <td>0.013561</td>\n","      <td>0.000011</td>\n","      <td>0.489014</td>\n","      <td>204582.442977</td>\n","      <td>0.009847</td>\n","    </tr>\n","    <tr>\n","      <th>Angola</th>\n","      <td>0.000000</td>\n","      <td>0.002770</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.015625</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.001111</td>\n","      <td>0.001306</td>\n","      <td>0.000001</td>\n","      <td>0.002095</td>\n","      <td>0.000140</td>\n","      <td>0.007309</td>\n","      <td>0.365043</td>\n","      <td>0.000470</td>\n","    </tr>\n","    <tr>\n","      <th>Argentina</th>\n","      <td>0.005946</td>\n","      <td>0.001667</td>\n","      <td>0.000000</td>\n","      <td>0.009546</td>\n","      <td>0.111111</td>\n","      <td>0.005102</td>\n","      <td>0.000000</td>\n","      <td>0.008264</td>\n","      <td>0.011019</td>\n","      <td>0.002172</td>\n","      <td>0.014174</td>\n","      <td>0.000275</td>\n","      <td>0.003620</td>\n","      <td>0.000010</td>\n","      <td>0.036879</td>\n","      <td>90.451285</td>\n","      <td>0.003092</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>Venezuela</th>\n","      <td>0.930443</td>\n","      <td>0.053552</td>\n","      <td>1.360000</td>\n","      <td>0.820755</td>\n","      <td>1.000000</td>\n","      <td>0.048379</td>\n","      <td>0.173611</td>\n","      <td>0.506944</td>\n","      <td>0.124219</td>\n","      <td>0.158117</td>\n","      <td>0.203870</td>\n","      <td>0.205480</td>\n","      <td>0.020543</td>\n","      <td>0.000052</td>\n","      <td>0.274744</td>\n","      <td>6.828239</td>\n","      <td>0.015015</td>\n","    </tr>\n","    <tr>\n","      <th>Vietnam</th>\n","      <td>0.250000</td>\n","      <td>0.003460</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>1.000000</td>\n","      <td>0.062500</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.005270</td>\n","      <td>0.019644</td>\n","      <td>0.000296</td>\n","      <td>0.033856</td>\n","      <td>0.000020</td>\n","      <td>0.015693</td>\n","      <td>40.449399</td>\n","      <td>0.017392</td>\n","    </tr>\n","    <tr>\n","      <th>Yemen</th>\n","      <td>0.830988</td>\n","      <td>0.068851</td>\n","      <td>1.111111</td>\n","      <td>0.562500</td>\n","      <td>1.611111</td>\n","      <td>0.187778</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.271111</td>\n","      <td>0.165392</td>\n","      <td>0.309900</td>\n","      <td>0.005485</td>\n","      <td>0.044941</td>\n","      <td>0.000061</td>\n","      <td>0.123109</td>\n","      <td>0.077956</td>\n","      <td>0.007166</td>\n","    </tr>\n","    <tr>\n","      <th>Zambia</th>\n","      <td>0.036548</td>\n","      <td>0.001783</td>\n","      <td>0.074846</td>\n","      <td>0.082987</td>\n","      <td>0.179705</td>\n","      <td>0.018264</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>0.009094</td>\n","      <td>0.441942</td>\n","      <td>0.000063</td>\n","      <td>0.110158</td>\n","      <td>0.000701</td>\n","      <td>0.032123</td>\n","      <td>26.915283</td>\n","      <td>0.042729</td>\n","    </tr>\n","    <tr>\n","      <th>Zimbabwe</th>\n","      <td>0.082987</td>\n","      <td>0.096488</td>\n","      <td>0.361111</td>\n","      <td>0.067778</td>\n","      <td>0.361111</td>\n","      <td>0.126736</td>\n","      <td>0.173611</td>\n","      <td>1.361111</td>\n","      <td>0.062500</td>\n","      <td>0.045177</td>\n","      <td>0.122760</td>\n","      <td>0.000385</td>\n","      <td>0.012649</td>\n","      <td>0.001752</td>\n","      <td>0.057058</td>\n","      <td>170.578892</td>\n","      <td>0.033038</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>158 rows × 17 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-2dc0c8f9-ebd1-4a88-a5e2-9062ed97084c')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-2dc0c8f9-ebd1-4a88-a5e2-9062ed97084c button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-2dc0c8f9-ebd1-4a88-a5e2-9062ed97084c');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-50c12018-8aed-455e-b283-6f3c150ffe26\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-50c12018-8aed-455e-b283-6f3c150ffe26')\"\n","            title=\"Suggest charts.\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-50c12018-8aed-455e-b283-6f3c150ffe26 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":65}]},{"cell_type":"markdown","metadata":{"id":"t4yA2-OGZg9c"},"source":["## Export to .csv"]},{"cell_type":"code","execution_count":66,"metadata":{"id":"HScVQtnLXoJs","executionInfo":{"status":"ok","timestamp":1694076263042,"user_tz":-120,"elapsed":583,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"outputs":[],"source":["inner_df.to_csv('/content/drive/MyDrive/DS LAB - Colombaro, Ferretti, Fracchia, Salvatori/PROCESSED DATASETS/Happiness + Freedom/freedom_cleaned.csv', index=False)"]},{"cell_type":"code","source":["variance_df.to_csv('/content/drive/MyDrive/DS LAB - Colombaro, Ferretti, Fracchia, Salvatori/PROCESSED DATASETS/Happiness + Freedom/variance_df.csv')"],"metadata":{"id":"9jDEwQKD8wfh","executionInfo":{"status":"ok","timestamp":1694076263355,"user_tz":-120,"elapsed":323,"user":{"displayName":"Ilaria Salvatori","userId":"04565068118230364096"}}},"execution_count":67,"outputs":[]}],"metadata":{"colab":{"provenance":[]},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}